<html>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <link href='css/style.css' rel='stylesheet'>
    <script src='js/jquery.js' type='text/javascript'></script>
    <script src='js/script.js' type='text/javascript'></script>
    <script src='js/toggle-switch.js' type='text/javascript'></script>
    <title>uxkit</title>
  </head>
  <body>
    <header class='page-header'>
      <nav>
        <ul>
          <li>
            <a class='sidebar-toggle' href='#'>
              Menu
              <span></span>
            </a>
          </li>
          <!-- %li -->
          <!-- %a{:href => "#"} Hiya -->
          <!-- %li -->
          <!-- %a{:href => "#"} Nice -->
        </ul>
      </nav>
      <h1>uxkit</h1>
      <div class='page-icon'>
        <div class='uxkit-icon'></div>
      </div>
    </header>
    <nav class='sidebar'>
      <h1>uxkit</h1>
      <!-- - unless full_page -->
      <!-- %div.sidebar-section -->
      <!-- %h3.main-page-nav-item -->
      <!-- %a{href: "/"} Home -->
      <div class='sidebar-section'>
        <h3>Components</h3>
        <ul class='component-sidebar'>
          <li>
            <a href='#message-bubble-component'>Message Bubble</a>
          </li>
          <li>
            <a href='#notification-ios-component'>Notification Ios</a>
          </li>
          <li>
            <a href='#notification-mac-component'>Notification Mac</a>
          </li>
          <li>
            <a href='#segmented-control-component'>Segmented Control</a>
          </li>
          <li>
            <a href='#toggle-switch-component'>Toggle Switch</a>
          </li>
        </ul>
      </div>
      <div class='sidebar-section'>
        <h3>Behaviors</h3>
      </div>
      <div class='sidebar-section'>
        <h3>Utilities</h3>
      </div>
    </nav>
    <section class='components'>
      <section class='component' id='message-bubble-component'>
        <div class='example-components'>
          <h3>
            <span>Playground</span>
            <button class='example-css-toggle'>(try it without CSS)</button>
          </h3>
          <div class='example-component'><div class='message-bubble-container'>
            <div class='message-bubble'>
              <div class='message-bubble-inner'>
                Here is the message
                <svg class='message-bubble-whale-tail' enable-background='new 0 0 116.42 97.35' height='119px' style='display: none' version='1.1' viewbox='0 0 116 119' width='116px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'>
                  <path d='M67.39,79.03 C84.24,104.95 116.42,115.32 116.42,115.32 C116.42,115.32 73.88,124.39 46.66,115.32 C19.44,106.24 0,79.03 0,79.03 L0,-0.227279902 L51.8400002,-0.227279902 L51.84,22 C51.84,22 50.54,53.1 67.39,79.03 Z' fill='#AOAOAO'></path>
                </svg>
              </div>
            </div>
            <div class='message-bubble reply'>
              <div class='message-bubble-inner'>
                Here is the reply
                <svg class='message-bubble-whale-tail' enable-background='new 0 0 116.42 97.35' height='119px' style='display: none' version='1.1' viewbox='0 0 116 119' width='116px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'>
                  <path d='M67.39,79.03 C84.24,104.95 116.42,115.32 116.42,115.32 C116.42,115.32 73.88,124.39 46.66,115.32 C19.44,106.24 0,79.03 0,79.03 L0,-0.227279902 L51.8400002,-0.227279902 L51.84,22 C51.84,22 50.54,53.1 67.39,79.03 Z' fill='#AOAOAO'></path>
                </svg>
              </div>
            </div>
          </div></div>
        </div>
        <!-- Write all relevant documentation here. -->
        <div class='component-actions'>
          <button class='component-action requires' data-component-detail='requires'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Requires</div>
          </button>
          <button class='component-action source' data-component-detail='source'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Source</div>
          </button>
          <button class='api component-action' data-component-detail='api'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>API</div>
          </button>
        </div>
        <div class='source-code'>
          <div class='source-code-language'>
            <h3>HTML</h3>
            <div class='source-code-html'>
              <pre><code class="highlight"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'message-bubble-container'</span><span class="nt">&gt;</span>&#x000A;  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'message-bubble'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'message-bubble-inner'</span><span class="nt">&gt;</span>&#x000A;      Here is the message&#x000A;      <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">'message-bubble-whale-tail'</span> <span class="na">enable-background=</span><span class="s">'new 0 0 116.42 97.35'</span> <span class="na">height=</span><span class="s">'119px'</span> <span class="na">style=</span><span class="s">'display: none'</span> <span class="na">version=</span><span class="s">'1.1'</span> <span class="na">viewbox=</span><span class="s">'0 0 116 119'</span> <span class="na">width=</span><span class="s">'116px'</span> <span class="na">xml:space=</span><span class="s">'preserve'</span> <span class="na">xmlns=</span><span class="s">'http://www.w3.org/2000/svg'</span><span class="nt">&gt;</span>&#x000A;        <span class="nt">&lt;path</span> <span class="na">d=</span><span class="s">'M67.39,79.03 C84.24,104.95 116.42,115.32 116.42,115.32 C116.42,115.32 73.88,124.39 46.66,115.32 C19.44,106.24 0,79.03 0,79.03 L0,-0.227279902 L51.8400002,-0.227279902 L51.84,22 C51.84,22 50.54,53.1 67.39,79.03 Z'</span> <span class="na">fill=</span><span class="s">'#AOAOAO'</span><span class="nt">&gt;&lt;/path&gt;</span>&#x000A;      <span class="nt">&lt;/svg&gt;</span>&#x000A;    <span class="nt">&lt;/div&gt;</span>&#x000A;  <span class="nt">&lt;/div&gt;</span>&#x000A;  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'message-bubble reply'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'message-bubble-inner'</span><span class="nt">&gt;</span>&#x000A;      Here is the reply&#x000A;      <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">'message-bubble-whale-tail'</span> <span class="na">enable-background=</span><span class="s">'new 0 0 116.42 97.35'</span> <span class="na">height=</span><span class="s">'119px'</span> <span class="na">style=</span><span class="s">'display: none'</span> <span class="na">version=</span><span class="s">'1.1'</span> <span class="na">viewbox=</span><span class="s">'0 0 116 119'</span> <span class="na">width=</span><span class="s">'116px'</span> <span class="na">xml:space=</span><span class="s">'preserve'</span> <span class="na">xmlns=</span><span class="s">'http://www.w3.org/2000/svg'</span><span class="nt">&gt;</span>&#x000A;        <span class="nt">&lt;path</span> <span class="na">d=</span><span class="s">'M67.39,79.03 C84.24,104.95 116.42,115.32 116.42,115.32 C116.42,115.32 73.88,124.39 46.66,115.32 C19.44,106.24 0,79.03 0,79.03 L0,-0.227279902 L51.8400002,-0.227279902 L51.84,22 C51.84,22 50.54,53.1 67.39,79.03 Z'</span> <span class="na">fill=</span><span class="s">'#AOAOAO'</span><span class="nt">&gt;&lt;/path&gt;</span>&#x000A;      <span class="nt">&lt;/svg&gt;</span>&#x000A;    <span class="nt">&lt;/div&gt;</span>&#x000A;  <span class="nt">&lt;/div&gt;</span>&#x000A;<span class="nt">&lt;/div&gt;</span>&#x000A;</code></pre>
            </div>
          </div>
          <div class='source-code-language'>
            <h3>CSS</h3>
            <div class='source-code-css'>
              <pre><code class="highlight"><span class="nc">.message-bubble-container</span><span class="nd">:after</span><span class="o">,</span>&#x000A;<span class="nc">.message-bubble-date-section</span><span class="nd">:after</span> <span class="p">{</span>&#x000A;  <span class="nl">content</span><span class="p">:</span> <span class="s2">''</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>&#x000A;  <span class="nl">clear</span><span class="p">:</span> <span class="nb">both</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble-container</span> <span class="p">{</span>&#x000A;  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">black</span><span class="p">;</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span>&#x000A;  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble</span><span class="o">,</span>&#x000A;<span class="nc">.typing-indicator</span> <span class="p">{</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>&#x000A;  <span class="nl">float</span><span class="p">:</span> <span class="nb">right</span><span class="p">;</span>&#x000A;  <span class="nl">clear</span><span class="p">:</span> <span class="nb">both</span><span class="p">;</span>&#x000A;  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.5em</span><span class="p">;</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">1.0625em</span><span class="p">;</span>&#x000A;  <span class="nl">line-height</span><span class="p">:</span> <span class="m">1.3</span><span class="p">;</span>&#x000A;  <span class="nl">font-family</span><span class="p">:</span> <span class="n">Helvetica</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble.reply</span><span class="o">,</span>&#x000A;<span class="nc">.typing-indicator</span> <span class="p">{</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#e5e5ea</span><span class="p">;</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="m">#020202</span><span class="p">;</span>&#x000A;  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble</span> <span class="p">{</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">0.5em</span> <span class="m">0.75em</span><span class="p">;</span>&#x000A;  <span class="nl">max-width</span><span class="p">:</span> <span class="n">-webkit-calc</span><span class="p">(</span><span class="m">100</span><span class="err">%</span> <span class="n">-</span> <span class="m">7em</span><span class="p">);</span>&#x000A;  <span class="nl">max-width</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="m">100</span><span class="err">%</span> <span class="n">-</span> <span class="m">7em</span><span class="p">);</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#1983fa</span><span class="p">;</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble.reply</span> <span class="nc">.message-bubble-whale-tail</span> <span class="p">{</span>&#x000A;  <span class="nl">right</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">-0.5184em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">scaleX</span><span class="p">(</span><span class="m">-1</span><span class="p">);</span>&#x000A;  <span class="nl">-ms-transform</span><span class="p">:</span> <span class="n">scaleX</span><span class="p">(</span><span class="m">-1</span><span class="p">);</span>&#x000A;  <span class="nl">transform</span><span class="p">:</span> <span class="n">scaleX</span><span class="p">(</span><span class="m">-1</span><span class="p">);</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble.reply</span> <span class="nc">.message-bubble-whale-tail</span> <span class="nt">path</span> <span class="p">{</span>&#x000A;  <span class="py">fill</span><span class="p">:</span> <span class="m">#e5e5ea</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble.no-tail</span> <span class="nc">.message-bubble-whale-tail</span> <span class="p">{</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble.reply</span> <span class="o">+</span> <span class="nc">.message-bubble.reply</span> <span class="p">{</span>&#x000A;  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble</span><span class="nd">:not</span><span class="o">(</span><span class="nc">.reply</span><span class="o">)</span> <span class="o">+</span> <span class="nc">.message-bubble</span><span class="nd">:not</span><span class="o">(</span><span class="nc">.reply</span><span class="o">)</span> <span class="p">{</span>&#x000A;  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble.return</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">-webkit-transform</span> <span class="m">0.4s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">transform</span> <span class="m">0.4s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble.return</span> <span class="nc">.message-bubble-timestamp</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.4s</span> <span class="n">ease</span><span class="p">,</span> <span class="n">-webkit-transform</span> <span class="m">0.4s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.4s</span> <span class="n">ease</span><span class="p">,</span> <span class="n">transform</span> <span class="m">0.4s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble.temp-hide</span> <span class="p">{</span>&#x000A;  <span class="nl">visibility</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble</span> <span class="nc">.message-bubble-inner</span> <span class="p">{</span>&#x000A;  <span class="nl">max-width</span><span class="p">:</span> <span class="m">18em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble</span> <span class="nt">p</span><span class="nd">:first-of-type</span> <span class="p">{</span>&#x000A;  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble</span> <span class="nt">p</span><span class="nd">:last-of-type</span> <span class="p">{</span>&#x000A;  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble</span> <span class="nc">.message-bubble-whale-tail</span> <span class="p">{</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="nl">right</span><span class="p">:</span> <span class="m">-0.5616em</span><span class="p">;</span>&#x000A;  <span class="nl">bottom</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span> <span class="cp">!important</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">1.08em</span><span class="p">;</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">0.90309em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble</span> <span class="nc">.message-bubble-whale-tail</span> <span class="nt">path</span> <span class="p">{</span>&#x000A;  <span class="py">fill</span><span class="p">:</span> <span class="m">#1983fa</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble</span> <span class="nc">.message-bubble-timestamp</span> <span class="p">{</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">100</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">top</span><span class="p">:</span> <span class="m">50</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">-50</span><span class="err">%</span><span class="p">);</span>&#x000A;  <span class="nl">-ms-transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">-50</span><span class="err">%</span><span class="p">);</span>&#x000A;  <span class="nl">transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">-50</span><span class="err">%</span><span class="p">);</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">7em</span><span class="p">;</span>&#x000A;  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="m">#bebebe</span><span class="p">;</span>&#x000A;  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.8em</span><span class="p">;</span>&#x000A;  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble-heading</span> <span class="p">{</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">2em</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">clear</span><span class="p">:</span> <span class="nb">both</span><span class="p">;</span>&#x000A;  <span class="nl">font-family</span><span class="p">:</span> <span class="n">Helvetica</span><span class="p">;</span>&#x000A;  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>&#x000A;  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.8em</span><span class="p">;</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="m">#bebebe</span><span class="p">;</span>&#x000A;  <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.message-bubble-heading</span> <span class="nc">.message-bubble-date</span> <span class="p">{</span>&#x000A;  <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="m">#a5a5a5</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.typing-indicator</span> <span class="p">{</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">0.8em</span> <span class="m">1.6em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.typing-indicator</span><span class="nd">:before</span><span class="o">,</span>&#x000A;<span class="nc">.typing-indicator</span><span class="nd">:after</span> <span class="p">{</span>&#x000A;  <span class="nl">content</span><span class="p">:</span> <span class="s2">''</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">0.8em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">0.8em</span><span class="p">;</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0.8em</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">-0.15em</span><span class="p">;</span>&#x000A;  <span class="nl">bottom</span><span class="p">:</span> <span class="m">-0.15em</span><span class="p">;</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#e5e5ea</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.typing-indicator</span><span class="nd">:after</span> <span class="p">{</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">0.45em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">0.45em</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">-0.5em</span><span class="p">;</span>&#x000A;  <span class="nl">bottom</span><span class="p">:</span> <span class="m">-0.5em</span><span class="p">;</span>&#x000A;<span class="p">}</span></code></pre>
            </div>
          </div>
          <div class='source-code-language'>
            <h3>JavaScript</h3>
            <div class='source-code-js'>
              <pre><code class="highlight"><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="kd">var</span> <span class="nx">$w</span><span class="p">,</span> <span class="nx">DAYS_IN_MS</span><span class="p">,</span> <span class="nx">MessageBubble</span><span class="p">,</span> <span class="nx">MessageBubbleController</span><span class="p">,</span> <span class="nx">Timestamper</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">DAYS_IN_MS</span> <span class="o">=</span> <span class="mi">86400000</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">$w</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">);</span>&#x000A;&#x000A;  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">transitionEnd</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">handler</span><span class="p">)</span> <span class="p">{</span>&#x000A;    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s2">"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>&#x000A;  <span class="p">};</span>&#x000A;&#x000A;  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">animationEnd</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">handler</span><span class="p">)</span> <span class="p">{</span>&#x000A;    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s2">"webkitAnimationEnd oanimationend msAnimationEnd animationend"</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>&#x000A;  <span class="p">};</span>&#x000A;&#x000A;  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">verticalSpaceAvail</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span> <span class="o">-</span> <span class="nx">$w</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">();</span>&#x000A;  <span class="p">};</span>&#x000A;&#x000A;  <span class="nx">MessageBubble</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">MessageBubble</span><span class="p">()</span> <span class="p">{}</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">MessageBubble</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nx">MessageBubble</span><span class="p">.</span><span class="nx">template</span> <span class="o">=</span> <span class="s2">"&lt;div class='message-bubble'&gt; &lt;div class='message-bubble-inner'&gt; MESSAGE &lt;svg style='display: none' class='message-bubble-whale-tail' width='116px' height='119px' viewBox='0 0 116 119' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' enable-background='new 0 0 116.42 97.35' xml:space='preserve'&gt; &lt;path fill='#A0A0A0' d='M67.39,79.03 C84.24,104.95 116.42,115.32 116.42,115.32 C116.42,115.32 73.88,124.39 46.66,115.32 C19.44,106.24 0,79.03 0,79.03 L0,-0.227279902 L51.8400002,-0.227279902 L51.84,22 C51.84,22 50.54,53.1 67.39,79.03 Z'&gt;&lt;/path&gt; &lt;/svg&gt; &lt;/div&gt; &lt;/div&gt;"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">MessageBubbleController</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">MessageBubbleController</span><span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$messageBubbleContainer</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">settings</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">settings</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">$messageBubbleContainer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">".message-bubble-container"</span><span class="p">);</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">$messageBubbleContainer</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">$messageBubbleContainer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"body"</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">container</span> <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">container</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">container</span> <span class="p">:</span> <span class="nx">$messageBubbleContainer</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">messages</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">".message-bubble"</span><span class="p">);</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_messageDateSectionHTML</span> <span class="o">=</span> <span class="s2">"&lt;section class='message-bubble-date-section' /&gt;"</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_timestampKey</span> <span class="o">=</span> <span class="s2">"message-timestamp"</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_timestamper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Timestamper</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">automateDateSections</span> <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">automateDateSections</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">automateDateSections</span> <span class="p">:</span> <span class="kc">true</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">dateSectionCutoff</span> <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">dateSectionCutoff</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">dateSectionCutoff</span> <span class="p">:</span> <span class="s2">"unique-day"</span><span class="p">;</span>&#x000A;    <span class="p">}</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setBackgroundColor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">color</span><span class="p">,</span> <span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getSubsetOfMessages</span><span class="p">(</span><span class="nx">sel</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="kd">var</span> <span class="nx">$this</span><span class="p">;</span>&#x000A;        <span class="nx">$this</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;        <span class="nx">$this</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"background-color"</span><span class="p">,</span> <span class="nx">color</span><span class="p">);</span>&#x000A;        <span class="k">return</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".message-bubble-whale-tail path"</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"fill"</span><span class="p">,</span> <span class="nx">color</span><span class="p">);</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setTextColor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">color</span><span class="p">,</span> <span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getSubsetOfMessages</span><span class="p">(</span><span class="nx">sel</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"color"</span><span class="p">,</span> <span class="nx">color</span><span class="p">);</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">newMessageBubble</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$afterElement</span><span class="p">,</span> <span class="nx">$beforeElement</span><span class="p">,</span> <span class="nx">$container</span><span class="p">,</span> <span class="nx">$insertionPoint</span><span class="p">,</span> <span class="nx">$lastDateSection</span><span class="p">,</span> <span class="nx">$lastMsg</span><span class="p">,</span> <span class="nx">$message</span><span class="p">,</span> <span class="nx">$relevantContainerChild</span><span class="p">,</span> <span class="nx">$replyMsg</span><span class="p">,</span> <span class="nx">curTSinDays</span><span class="p">,</span> <span class="nx">defaults</span><span class="p">,</span> <span class="nx">lastTSinDays</span><span class="p">,</span> <span class="nx">time</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">defaults</span> <span class="o">=</span> <span class="p">{</span>&#x000A;        <span class="na">after</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;        <span class="na">append</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;        <span class="na">container</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;        <span class="na">artificialDate</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;        <span class="na">timestamp</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;        <span class="na">tail</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;        <span class="na">inReplyTo</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;        <span class="na">reply</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;        <span class="na">animate</span><span class="p">:</span> <span class="kc">null</span>&#x000A;      <span class="p">};</span>&#x000A;      <span class="nx">options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">defaults</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>&#x000A;      <span class="nx">$message</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">MessageBubble</span><span class="p">.</span><span class="nx">template</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"MESSAGE"</span><span class="p">,</span> <span class="nx">msg</span><span class="p">)).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"temp-hide"</span><span class="p">);</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">animate</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">$message</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"visibility"</span><span class="p">,</span> <span class="s2">"none"</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">append</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="o">||</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">append</span><span class="p">)</span> <span class="o">===</span> <span class="s2">"[object String]"</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">options</span><span class="p">.</span><span class="nx">container</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">append</span><span class="p">);</span>&#x000A;        <span class="nx">options</span><span class="p">.</span><span class="nx">append</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">time</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">artificialDate</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">artificialDate</span><span class="p">)</span> <span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">;</span>&#x000A;        <span class="nx">$message</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-"</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">_timestampKey</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">getTime</span><span class="p">());</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">(</span><span class="nx">$message</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">.</span><span class="nx">tail</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">$message</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"no-tail"</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">reply</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">$message</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"reply"</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">((</span><span class="nx">options</span><span class="p">.</span><span class="nx">inReplyTo</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$replyMsg</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">inReplyTo</span><span class="p">)).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">$message</span><span class="p">[</span><span class="nx">$replyMsg</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"reply"</span><span class="p">)</span> <span class="p">?</span> <span class="s2">"removeClass"</span> <span class="p">:</span> <span class="s2">"addClass"</span><span class="p">](</span><span class="s2">"reply"</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">after</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">if</span> <span class="p">((</span><span class="nx">$afterElement</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">after</span><span class="p">)).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">$message</span><span class="p">.</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">$afterElement</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">before</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">if</span> <span class="p">((</span><span class="nx">$beforeElement</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">before</span><span class="p">)).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">$message</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">$beforeElement</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">automateDateSections</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">timestamp</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">$lastMsg</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">last</span><span class="p">();</span>&#x000A;        <span class="nx">curTSinDays</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">$message</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_timestampKey</span><span class="p">)).</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">/</span> <span class="nx">DAYS_IN_MS</span><span class="p">);</span>&#x000A;        <span class="nx">lastTSinDays</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">$lastMsg</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_timestampKey</span><span class="p">)).</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">/</span> <span class="nx">DAYS_IN_MS</span><span class="p">);</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">curTSinDays</span> <span class="o">-</span> <span class="nx">lastTSinDays</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">$insertionPoint</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$lastDateSection</span> <span class="o">=</span> <span class="nx">$lastMsg</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="s2">".message-bubble-date-section"</span><span class="p">)).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="nx">$lastDateSection</span> <span class="p">:</span> <span class="nx">$lastMsg</span><span class="p">;</span>&#x000A;          <span class="k">this</span><span class="p">.</span><span class="nx">_makeQuickDateSection</span><span class="p">(</span><span class="nx">$message</span><span class="p">).</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">$insertionPoint</span><span class="p">);</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="nx">$message</span><span class="p">.</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">$lastMsg</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="nx">$container</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">container</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">$</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">container</span><span class="p">)</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">;</span>&#x000A;        <span class="nx">$relevantContainerChild</span> <span class="o">=</span> <span class="nx">$container</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">append</span> <span class="p">?</span> <span class="s2">":last-child"</span> <span class="p">:</span> <span class="s2">":first-child"</span><span class="p">);</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">$relevantContainerChild</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"message-bubble-date-section"</span><span class="p">))</span> <span class="p">{</span>&#x000A;          <span class="nx">$container</span> <span class="o">=</span> <span class="nx">$relevantContainerChild</span><span class="p">;</span>&#x000A;        <span class="p">}</span>&#x000A;        <span class="nx">$message</span><span class="p">[</span><span class="nx">options</span><span class="p">.</span><span class="nx">append</span> <span class="p">?</span> <span class="s2">"appendTo"</span> <span class="p">:</span> <span class="s2">"prependTo"</span><span class="p">](</span><span class="nx">$container</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">animate</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">_resolveAddAnimation</span><span class="p">(</span><span class="nx">$message</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">animate</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="nx">$message</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"temp-hide"</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_update</span><span class="p">();</span>&#x000A;      <span class="k">return</span> <span class="nx">$message</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_resolveAddAnimation</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$msg</span><span class="p">,</span> <span class="nx">animate</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$container</span><span class="p">,</span> <span class="nx">defaults</span><span class="p">,</span> <span class="nx">endTransition</span><span class="p">,</span> <span class="nx">offset</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">startTranslate</span><span class="p">;</span>&#x000A;      <span class="nx">defaults</span> <span class="o">=</span> <span class="p">{</span>&#x000A;        <span class="na">props</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;        <span class="na">duration</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>&#x000A;        <span class="na">delay</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;        <span class="na">timingFunction</span><span class="p">:</span> <span class="s2">"ease"</span><span class="p">,</span>&#x000A;        <span class="na">from</span><span class="p">:</span> <span class="s2">"right"</span><span class="p">,</span>&#x000A;        <span class="na">callback</span><span class="p">:</span> <span class="kc">null</span>&#x000A;      <span class="p">};</span>&#x000A;      <span class="nx">options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">defaults</span><span class="p">,</span> <span class="nx">animate</span><span class="p">);</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">timingFunction</span> <span class="o">===</span> <span class="s2">"spring"</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">options</span><span class="p">.</span><span class="nx">timingFunction</span> <span class="o">=</span> <span class="s2">"cubic-bezier(0.37, 1.65, 0.305, 0.855)"</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">([</span><span class="s2">"right"</span><span class="p">,</span> <span class="s2">"left"</span><span class="p">,</span> <span class="s2">"top"</span><span class="p">,</span> <span class="s2">"bottom"</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">from</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">$container</span> <span class="o">=</span> <span class="nx">$msg</span><span class="p">.</span><span class="nx">parent</span><span class="p">();</span>&#x000A;        <span class="nx">endTransition</span> <span class="o">=</span> <span class="s2">"transform "</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">duration</span> <span class="o">+</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="p">?</span> <span class="s2">"s"</span> <span class="p">:</span> <span class="s2">"ms"</span><span class="p">)</span> <span class="o">+</span> <span class="s2">" "</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">timingFunction</span><span class="p">;</span>&#x000A;        <span class="nx">startTranslate</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;          <span class="k">switch</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">from</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="k">case</span> <span class="s2">"right"</span><span class="err">:</span>&#x000A;              <span class="k">return</span> <span class="nx">$container</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">()</span> <span class="o">+</span> <span class="nx">$container</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span> <span class="o">-</span> <span class="nx">$msg</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span><span class="p">;</span>&#x000A;            <span class="k">case</span> <span class="s2">"left"</span><span class="err">:</span>&#x000A;              <span class="k">return</span> <span class="o">-</span><span class="p">(</span><span class="nx">$msg</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">()</span> <span class="o">+</span> <span class="nx">$msg</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span> <span class="o">-</span> <span class="nx">$container</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span><span class="p">);</span>&#x000A;            <span class="k">case</span> <span class="s2">"top"</span><span class="err">:</span>&#x000A;              <span class="k">return</span> <span class="o">-</span><span class="p">(</span><span class="nx">$msg</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">()</span> <span class="o">+</span> <span class="nx">$msg</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span> <span class="o">-</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">scrollY</span><span class="p">,</span> <span class="nx">$container</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span><span class="p">));</span>&#x000A;            <span class="k">case</span> <span class="s2">"bottom"</span><span class="err">:</span>&#x000A;              <span class="nx">offset</span> <span class="o">=</span> <span class="nx">$msg</span><span class="p">.</span><span class="nx">offset</span><span class="p">();</span>&#x000A;              <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">$w</span><span class="p">.</span><span class="nx">height</span><span class="p">()</span> <span class="o">-</span> <span class="p">(</span><span class="nx">offset</span><span class="p">.</span><span class="nx">top</span> <span class="o">-</span> <span class="nx">$w</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">()),</span> <span class="nx">$msg</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">()</span> <span class="o">+</span> <span class="nx">$msg</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span> <span class="o">-</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">scrollY</span><span class="p">,</span> <span class="nx">$container</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span><span class="p">));</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">})();</span>&#x000A;        <span class="nx">startTranslate</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;          <span class="k">switch</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">from</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="k">case</span> <span class="s2">"right"</span><span class="err">:</span>&#x000A;            <span class="k">case</span> <span class="s2">"left"</span><span class="err">:</span>&#x000A;              <span class="k">return</span> <span class="s2">"translate("</span> <span class="o">+</span> <span class="nx">startTranslate</span> <span class="o">+</span> <span class="s2">"px, 0)"</span><span class="p">;</span>&#x000A;            <span class="k">case</span> <span class="s2">"top"</span><span class="err">:</span>&#x000A;            <span class="k">case</span> <span class="s2">"bottom"</span><span class="err">:</span>&#x000A;              <span class="k">return</span> <span class="s2">"translate(0, "</span> <span class="o">+</span> <span class="nx">startTranslate</span> <span class="o">+</span> <span class="s2">"px)"</span><span class="p">;</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">})();</span>&#x000A;        <span class="nx">$msg</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"transform"</span><span class="p">,</span> <span class="nx">startTranslate</span><span class="p">);</span>&#x000A;        <span class="nx">$msg</span><span class="p">.</span><span class="nx">transitionEnd</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">$msg</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span>&#x000A;            <span class="s2">"transition"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>&#x000A;            <span class="s2">"-webkit-transition"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>&#x000A;            <span class="s2">"transform"</span><span class="p">:</span> <span class="s2">""</span>&#x000A;          <span class="p">});</span>&#x000A;        <span class="p">});</span>&#x000A;        <span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">$msg</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"temp-hide"</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>&#x000A;            <span class="s2">"transition"</span><span class="p">:</span> <span class="nx">endTransition</span><span class="p">,</span>&#x000A;            <span class="s2">"-webkit-transition"</span><span class="p">:</span> <span class="s2">"-webkit-"</span> <span class="o">+</span> <span class="nx">endTransition</span><span class="p">,</span>&#x000A;            <span class="s2">"transform"</span><span class="p">:</span> <span class="s2">"translate(0, 0)"</span>&#x000A;          <span class="p">});</span>&#x000A;        <span class="p">},</span> <span class="mi">5</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">newMessageBubble</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">makeDateSection</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$container</span><span class="p">,</span> <span class="nx">$messageSet</span><span class="p">,</span> <span class="nx">$messages</span><span class="p">,</span> <span class="nx">defaults</span><span class="p">,</span> <span class="nx">headingText</span><span class="p">,</span> <span class="nx">_ref</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">defaults</span> <span class="o">=</span> <span class="p">{</span>&#x000A;        <span class="na">startMessage</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;        <span class="na">endMessage</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;        <span class="na">messageCount</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;        <span class="na">sectionHeadingDate</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;        <span class="na">sectionHeadingTime</span><span class="p">:</span> <span class="kc">null</span>&#x000A;      <span class="p">};</span>&#x000A;      <span class="nx">options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">defaults</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>&#x000A;      <span class="nx">$messages</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">messages</span><span class="p">;</span>&#x000A;      <span class="nx">options</span><span class="p">.</span><span class="nx">startMessage</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_convertPossibleSelectorToIndexNumber</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">startMessage</span><span class="p">,</span> <span class="nx">$messages</span><span class="p">);</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">endMessage</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">options</span><span class="p">.</span><span class="nx">endMessage</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">_convertPossibleSelectorToIndexNumber</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">endMessage</span><span class="p">,</span> <span class="nx">$messages</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">messageCount</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">options</span><span class="p">.</span><span class="nx">endMessage</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">startMessage</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">messageCount</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">((</span><span class="nx">options</span><span class="p">.</span><span class="nx">endMessage</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&gt;</span> <span class="p">(</span><span class="nx">_ref</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">endMessage</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">_ref</span> <span class="o">&gt;</span> <span class="nx">$messages</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span> <span class="p">{</span>&#x000A;        <span class="nx">options</span><span class="p">.</span><span class="nx">endMessage</span> <span class="o">=</span> <span class="nx">$messages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">$messageSet</span> <span class="o">=</span> <span class="nx">$messages</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">startMessage</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">endMessage</span><span class="p">);</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_destroyOverlappingSections</span><span class="p">(</span><span class="nx">$messageSet</span><span class="p">);</span>&#x000A;      <span class="nx">$messageSet</span><span class="p">.</span><span class="nx">wrapAll</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_messageDateSectionHTML</span><span class="p">);</span>&#x000A;      <span class="nx">$container</span> <span class="o">=</span> <span class="nx">$messageSet</span><span class="p">.</span><span class="nx">parent</span><span class="p">();</span>&#x000A;      <span class="nx">headingText</span> <span class="o">=</span> <span class="s2">"&lt;h3 class='message-bubble-heading'&gt; &lt;span class='message-bubble-date'&gt; "</span> <span class="o">+</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">sectionHeadingDate</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">_weekdayString</span><span class="p">(</span><span class="nx">$messageSet</span><span class="p">.</span><span class="nx">first</span><span class="p">().</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_timestampKey</span><span class="p">)))</span> <span class="o">+</span> <span class="s2">" &lt;/span&gt; "</span> <span class="o">+</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">sectionHeadingTime</span> <span class="p">?</span> <span class="nx">options</span><span class="p">.</span><span class="nx">sectionHeadingTime</span> <span class="p">:</span> <span class="nx">options</span><span class="p">.</span><span class="nx">sectionHeadingDate</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">_formatDateString</span><span class="p">(</span><span class="nx">$messageSet</span><span class="p">.</span><span class="nx">first</span><span class="p">().</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_timestampKey</span><span class="p">))</span> <span class="p">:</span> <span class="k">void</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="s2">" &lt;/h3&gt;"</span><span class="p">;</span>&#x000A;      <span class="nx">$</span><span class="p">(</span><span class="nx">headingText</span><span class="p">).</span><span class="nx">prependTo</span><span class="p">(</span><span class="nx">$container</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="nx">$container</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_makeQuickDateSection</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$messages</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$dateSection</span><span class="p">,</span> <span class="nx">date</span><span class="p">;</span>&#x000A;      <span class="nx">$dateSection</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_messageDateSectionHTML</span><span class="p">);</span>&#x000A;      <span class="nx">date</span> <span class="o">=</span> <span class="nx">$messages</span><span class="p">.</span><span class="nx">first</span><span class="p">().</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_timestampKey</span><span class="p">);</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_destroyOverlappingSections</span><span class="p">(</span><span class="nx">$messages</span><span class="p">);</span>&#x000A;      <span class="nx">$messages</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$dateSection</span><span class="p">);</span>&#x000A;      <span class="nx">$</span><span class="p">(</span><span class="s2">"&lt;h3 class='message-bubble-heading'&gt; &lt;span class='message-bubble-date'&gt; "</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_weekdayString</span><span class="p">(</span><span class="nx">date</span><span class="p">))</span> <span class="o">+</span> <span class="s2">" &lt;/span&gt; "</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_formatDateString</span><span class="p">(</span><span class="nx">date</span><span class="p">))</span> <span class="o">+</span> <span class="s2">" &lt;/h3&gt;"</span><span class="p">).</span><span class="nx">prependTo</span><span class="p">(</span><span class="nx">$dateSection</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="nx">$dateSection</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_destroyOverlappingSections</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$messages</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="nx">$messages</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="kd">var</span> <span class="nx">$parent</span><span class="p">,</span> <span class="nx">$this</span><span class="p">;</span>&#x000A;        <span class="nx">$this</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;        <span class="nx">$parent</span> <span class="o">=</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">parent</span><span class="p">();</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">$parent</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"message-bubble-date-section"</span><span class="p">))</span> <span class="p">{</span>&#x000A;          <span class="nx">$parent</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">".message-bubble-heading"</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>&#x000A;          <span class="k">return</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">unwrap</span><span class="p">();</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_convertPossibleSelectorToIndexNumber</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">shouldBeNum</span><span class="p">,</span> <span class="nx">$containingSet</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">shouldBeNum</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">shouldBeNum</span> <span class="o">!==</span> <span class="s2">"number"</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">shouldBeNum</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">shouldBeNum</span><span class="p">);</span>&#x000A;        <span class="nx">shouldBeNum</span> <span class="o">=</span> <span class="nx">$containingSet</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="nx">shouldBeNum</span><span class="p">);</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">shouldBeNum</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">return</span> <span class="nx">shouldBeNum</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">removeMessageBubbles</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$removalsMade</span><span class="p">,</span> <span class="nx">that</span><span class="p">;</span>&#x000A;      <span class="nx">$removalsMade</span> <span class="o">=</span> <span class="nx">$</span><span class="p">();</span>&#x000A;      <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">getSubsetOfMessages</span><span class="p">(</span><span class="nx">sel</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="kd">var</span> <span class="nx">$this</span><span class="p">;</span>&#x000A;        <span class="nx">$this</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;        <span class="nx">that</span><span class="p">.</span><span class="nx">_checkForSectionRemovalAndRemove</span><span class="p">(</span><span class="nx">$this</span><span class="p">);</span>&#x000A;        <span class="k">return</span> <span class="nx">$removalsMade</span> <span class="o">=</span> <span class="nx">$removalsMade</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">$this</span><span class="p">);</span>&#x000A;      <span class="p">});</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">$removalsMade</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">))</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;          <span class="kd">var</span> <span class="nx">$this</span><span class="p">;</span>&#x000A;          <span class="nx">$this</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;          <span class="k">if</span> <span class="p">(</span><span class="nx">$this</span><span class="p">.</span><span class="nx">text</span><span class="p">().</span><span class="nx">match</span><span class="p">(</span><span class="nx">sel</span><span class="p">))</span> <span class="p">{</span>&#x000A;            <span class="nx">that</span><span class="p">.</span><span class="nx">_checkForSectionRemovalAndRemove</span><span class="p">(</span><span class="nx">$this</span><span class="p">);</span>&#x000A;            <span class="k">return</span> <span class="nx">$removalsMade</span> <span class="o">=</span> <span class="nx">$removalsMade</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">$this</span><span class="p">);</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">});</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_update</span><span class="p">();</span>&#x000A;      <span class="k">return</span> <span class="nx">$removalsMade</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">remove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">removeMessageBubbles</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="s2">"delete"</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">removeMessageBubbles</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_checkForSectionRemovalAndRemove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$elem</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">$elem</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="s2">".message-bubble-date-section"</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">$elem</span><span class="p">.</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">".message-bubble"</span><span class="p">).</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">$elem</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">remove</span><span class="p">();</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">$elem</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">timestamp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$matching</span><span class="p">,</span> <span class="nx">that</span><span class="p">;</span>&#x000A;      <span class="nx">$matching</span> <span class="o">=</span> <span class="nx">sel</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="p">?</span> <span class="nx">sel</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">getSubsetOfMessages</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;      <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>&#x000A;      <span class="k">return</span> <span class="nx">$matching</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="kd">var</span> <span class="nx">$this</span><span class="p">,</span> <span class="nx">date</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">;</span>&#x000A;        <span class="nx">$this</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;        <span class="nx">timestamp</span> <span class="o">=</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">that</span><span class="p">.</span><span class="nx">_timestampKey</span><span class="p">);</span>&#x000A;        <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">);</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">timestamp</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">)</span> <span class="o">+</span> <span class="s2">""</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/Invalid/gi</span><span class="p">)))</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">"&lt;span class='message-bubble-timestamp'&gt;"</span> <span class="o">+</span> <span class="p">(</span><span class="nx">that</span><span class="p">.</span><span class="nx">_formatDateString</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">))</span> <span class="o">+</span> <span class="s2">"&lt;/span&gt;"</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_formatDateString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">date</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_timestamper</span><span class="p">.</span><span class="nx">formatDateString</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_weekdayString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">date</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_timestamper</span><span class="p">.</span><span class="nx">weekdayString</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getSubsetOfMessages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">sel</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">messages</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_update</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">messages</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">".message-bubble"</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">MessageBubbleController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">typing</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$typingIndicators</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">state</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">state</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">$typingIndicators</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">".typing-indicator"</span><span class="p">);</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">$typingIndicators</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"&lt;div class='typing-indicator'&gt;&lt;div class='typing-indicator-dot' /&gt;&lt;/div&gt;"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">);</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">$typingIndicators</span><span class="p">;</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">$typingIndicators</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">MessageBubbleController</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nx">Timestamper</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">Timestamper</span><span class="p">()</span> <span class="p">{}</span>&#x000A;&#x000A;    <span class="nx">Timestamper</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">formatDateString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">date</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">adjHours</span><span class="p">,</span> <span class="nx">hours</span><span class="p">,</span> <span class="nx">mins</span><span class="p">,</span> <span class="nx">_ref</span><span class="p">;</span>&#x000A;      <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>&#x000A;      <span class="nx">_ref</span> <span class="o">=</span> <span class="p">[</span><span class="nx">date</span><span class="p">.</span><span class="nx">getHours</span><span class="p">(),</span> <span class="nx">date</span><span class="p">.</span><span class="nx">getMinutes</span><span class="p">()],</span> <span class="nx">hours</span> <span class="o">=</span> <span class="nx">_ref</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">mins</span> <span class="o">=</span> <span class="nx">_ref</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>&#x000A;      <span class="nx">adjHours</span> <span class="o">=</span> <span class="nx">hours</span> <span class="o">%</span> <span class="mi">12</span> <span class="o">!==</span> <span class="mi">0</span> <span class="p">?</span> <span class="nx">hours</span> <span class="o">%</span> <span class="mi">12</span> <span class="p">:</span> <span class="mi">12</span><span class="p">;</span>&#x000A;      <span class="k">return</span> <span class="s2">""</span> <span class="o">+</span> <span class="nx">adjHours</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="p">(</span><span class="nx">mins</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="p">?</span> <span class="mi">0</span> <span class="p">:</span> <span class="s2">""</span><span class="p">)</span> <span class="o">+</span> <span class="nx">mins</span> <span class="o">+</span> <span class="s2">" "</span> <span class="o">+</span> <span class="p">(</span><span class="nx">hours</span> <span class="o">&lt;</span> <span class="mi">12</span> <span class="p">?</span> <span class="s2">"AM"</span> <span class="p">:</span> <span class="s2">"PM"</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">Timestamper</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">weekdayString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">date</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">today</span><span class="p">;</span>&#x000A;      <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">date</span><span class="p">);</span>&#x000A;      <span class="nx">today</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">getYear</span><span class="p">()</span> <span class="o">===</span> <span class="nx">today</span><span class="p">.</span><span class="nx">getYear</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">date</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">===</span> <span class="nx">today</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">date</span><span class="p">.</span><span class="nx">getDay</span><span class="p">()</span> <span class="o">===</span> <span class="nx">today</span><span class="p">.</span><span class="nx">getDay</span><span class="p">())</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="s2">"Today"</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">switch</span> <span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">getDay</span><span class="p">())</span> <span class="p">{</span>&#x000A;        <span class="k">case</span> <span class="mi">0</span><span class="err">:</span>&#x000A;          <span class="k">return</span> <span class="s2">"Sunday"</span><span class="p">;</span>&#x000A;        <span class="k">case</span> <span class="mi">1</span><span class="err">:</span>&#x000A;          <span class="k">return</span> <span class="s2">"Monday"</span><span class="p">;</span>&#x000A;        <span class="k">case</span> <span class="mi">2</span><span class="err">:</span>&#x000A;          <span class="k">return</span> <span class="s2">"Tuesday"</span><span class="p">;</span>&#x000A;        <span class="k">case</span> <span class="mi">3</span><span class="err">:</span>&#x000A;          <span class="k">return</span> <span class="s2">"Wednesday"</span><span class="p">;</span>&#x000A;        <span class="k">case</span> <span class="mi">4</span><span class="err">:</span>&#x000A;          <span class="k">return</span> <span class="s2">"Thursday"</span><span class="p">;</span>&#x000A;        <span class="k">case</span> <span class="mi">5</span><span class="err">:</span>&#x000A;          <span class="k">return</span> <span class="s2">"Friday"</span><span class="p">;</span>&#x000A;        <span class="nl">default</span><span class="p">:</span>&#x000A;          <span class="k">return</span> <span class="s2">"Saturday"</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">Timestamper</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">MessageBubbleController</span> <span class="o">=</span> <span class="nx">MessageBubbleController</span><span class="p">;</span>&#x000A;&#x000A;<span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;</code></pre>
            </div>
          </div>
        </div>
      </section>
      <section class='component' id='notification-ios-component'>
        <div class='summary'>
          <p>The iOS-style Notification presents a small amount of text to the user and, optionally, a selection of action buttons .</p>
        </div>
        <div class='example-components'>
          <h3>
            <span>Playground</span>
            <button class='example-css-toggle'>(try it without CSS)</button>
          </h3>
          <div class='example-component'><div class='notification-device'>
            <div class='notification-ios'>
              <div class='notification-wrapper'>
                <div class='notification-content'>
                  <div class='notification-icon'></div>
                  <h3>Brian Ingram</h3>
                  <p>Where are you?</p>
                </div>
                <div class='notification-actions'>
                  <div class='notification-action button'>
                    <button tab-index='0'>Mark as Read</button>
                  </div>
                  <div class='notification-action button'>
                    <button tab-index='0'>Reply</button>
                  </div>
                  <!-- %div.notification-action.text -->
                  <!-- %input{type: "text", placeholder: "Message"} -->
                  <!-- %div.notification-action.submit -->
                  <!-- %input{type: "submit", value: "Send"} -->
                </div>
                <div class='notification-handle'></div>
              </div>
            </div>
          </div></div>
        </div>
        <script type='text/javascript'>
          var n = new Notification(".notification-ios:first");
        </script>
        <div class='playground'>
          <div class='playground-output'>
            <pre><code><div class='initial-variables'><div>// use variable n to access the existing Notification</div></div></code></pre>
          </div>
          <input class='playground-input' placeholder='Try out commands here' spellcheck='false' type='text'>
          <div class='example-commands'>
            <h4>Example Commands</h4>
            <div class='example-command-buttons'>
            </div>
          </div>
        </div>
        <!-- Write all relevant documentation here. -->
        <div class='component-actions'>
          <button class='component-action requires' data-component-detail='requires'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Requires</div>
          </button>
          <button class='component-action source' data-component-detail='source'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Source</div>
          </button>
          <button class='api component-action' data-component-detail='api'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>API</div>
          </button>
        </div>
        <div class='code-information'>
          <div class='source-code'>
            <div class='source-code-language'>
              <h3>HTML</h3>
              <div class='source-code-html'>
                <pre><code class="highlight"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-device'</span><span class="nt">&gt;</span>&#x000A;  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-ios'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-wrapper'</span><span class="nt">&gt;</span>&#x000A;      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-content'</span><span class="nt">&gt;</span>&#x000A;        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-icon'</span><span class="nt">&gt;&lt;/div&gt;</span>&#x000A;        <span class="nt">&lt;h3&gt;</span>Brian Ingram<span class="nt">&lt;/h3&gt;</span>&#x000A;        <span class="nt">&lt;p&gt;</span>Where are you?<span class="nt">&lt;/p&gt;</span>&#x000A;      <span class="nt">&lt;/div&gt;</span>&#x000A;      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-actions'</span><span class="nt">&gt;</span>&#x000A;        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-action button'</span><span class="nt">&gt;</span>&#x000A;          <span class="nt">&lt;button</span> <span class="na">tab-index=</span><span class="s">'0'</span><span class="nt">&gt;</span>Mark as Read<span class="nt">&lt;/button&gt;</span>&#x000A;        <span class="nt">&lt;/div&gt;</span>&#x000A;        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-action button'</span><span class="nt">&gt;</span>&#x000A;          <span class="nt">&lt;button</span> <span class="na">tab-index=</span><span class="s">'0'</span><span class="nt">&gt;</span>Reply<span class="nt">&lt;/button&gt;</span>&#x000A;        <span class="nt">&lt;/div&gt;</span>&#x000A;        <span class="c">&lt;!-- %div.notification-action.text --&gt;</span>&#x000A;        <span class="c">&lt;!-- %input{type: "text", placeholder: "Message"} --&gt;</span>&#x000A;        <span class="c">&lt;!-- %div.notification-action.submit --&gt;</span>&#x000A;        <span class="c">&lt;!-- %input{type: "submit", value: "Send"} --&gt;</span>&#x000A;      <span class="nt">&lt;/div&gt;</span>&#x000A;      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-handle'</span><span class="nt">&gt;&lt;/div&gt;</span>&#x000A;    <span class="nt">&lt;/div&gt;</span>&#x000A;  <span class="nt">&lt;/div&gt;</span>&#x000A;<span class="nt">&lt;/div&gt;</span>&#x000A;</code></pre>
              </div>
            </div>
            <div class='source-code-language'>
              <h3>CSS</h3>
              <div class='source-code-css'>
                <pre><code class="highlight"><span class="nc">.notification-device</span> <span class="p">{</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">20em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">100</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>&#x000A;  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">black</span><span class="p">;</span>&#x000A;  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="p">{</span>&#x000A;  <span class="nl">font-family</span><span class="p">:</span> <span class="s1">"Helvetica Neue"</span><span class="p">;</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.8</span><span class="p">);</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">100</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">top</span><span class="p">:</span> <span class="m">-4em</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">padding-top</span><span class="p">:</span> <span class="m">4em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">-100</span><span class="err">%</span><span class="p">);</span>&#x000A;  <span class="nl">-ms-transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">-100</span><span class="err">%</span><span class="p">);</span>&#x000A;  <span class="nl">transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">-100</span><span class="err">%</span><span class="p">);</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">-webkit-transform</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">transform</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios.active</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>&#x000A;  <span class="nl">-ms-transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>&#x000A;  <span class="nl">transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios.dragging</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios.dragging</span> <span class="nc">.notification-wrapper</span><span class="o">,</span>&#x000A;<span class="nc">.notification-ios.dragging</span> <span class="nc">.notification-handle</span><span class="o">,</span>&#x000A;<span class="nc">.notification-ios.dragging</span> <span class="nc">.notification-actions</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-content</span> <span class="p">{</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">0.5em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-content</span> <span class="o">*</span> <span class="p">{</span>&#x000A;  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-message</span> <span class="p">{</span>&#x000A;  <span class="nl">max-height</span><span class="p">:</span> <span class="m">3em</span><span class="p">;</span>&#x000A;  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">scroll</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-wrapper</span> <span class="p">{</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>&#x000A;  <span class="nl">padding-bottom</span><span class="p">:</span> <span class="m">1.85em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">padding-bottom</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">padding-bottom</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-handle</span> <span class="p">{</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="nl">bottom</span><span class="p">:</span> <span class="m">0.3em</span><span class="p">;</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">0.4em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">3.2em</span><span class="p">;</span>&#x000A;  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">-1.6em</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">50</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">0.5</span><span class="p">);</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0.2em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-icon</span> <span class="p">{</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">1.5em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">1.5em</span><span class="p">;</span>&#x000A;  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>&#x000A;  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">3em</span><span class="p">;</span>&#x000A;  <span class="nl">background-image</span><span class="p">:</span> <span class="sx">url(http://icons.iconarchive.com/icons/wineass/ios7-redesign/512/Messages-icon.png)</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-background-size</span><span class="p">:</span> <span class="n">contain</span><span class="p">;</span>&#x000A;  <span class="nl">background-size</span><span class="p">:</span> <span class="n">contain</span><span class="p">;</span>&#x000A;  <span class="nl">background-repeat</span><span class="p">:</span> <span class="nb">no-repeat</span><span class="p">;</span>&#x000A;  <span class="nl">margin-right</span><span class="p">:</span> <span class="m">0.5em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="p">{</span>&#x000A;  <span class="nl">border-top</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">0.2</span><span class="p">);</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">0.75em</span> <span class="m">0.5em</span><span class="p">;</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">100</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">bottom</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-box</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-flex</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-ms-flexbox</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>&#x000A;  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.2s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.2s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions.switching-out</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span> <span class="cp">!important</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions.switching-in</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.3s</span> <span class="m">0.2s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.3s</span> <span class="m">0.2s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.notification-action</span> <span class="p">{</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-inline-flex</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-ms-inline-flexbox</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-flex</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-flex</span><span class="p">:</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1em</span><span class="p">;</span>&#x000A;  <span class="nl">-ms-flex</span><span class="p">:</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1em</span><span class="p">;</span>&#x000A;  <span class="nl">flex</span><span class="p">:</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.notification-action</span><span class="nd">:not</span><span class="o">(</span><span class="nd">:first-of-type</span><span class="o">)</span> <span class="p">{</span>&#x000A;  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">0.5em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nt">button</span><span class="o">,</span>&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nt">input</span> <span class="p">{</span>&#x000A;  <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>&#x000A;  <span class="nl">font-size</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">0.5em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">100</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nt">button</span> <span class="p">{</span>&#x000A;  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>&#x000A;  <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.button</span> <span class="o">*,</span>&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.submit</span> <span class="o">*</span> <span class="p">{</span>&#x000A;  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>&#x000A;  <span class="nl">white-space</span><span class="p">:</span> <span class="nb">nowrap</span><span class="p">;</span>&#x000A;  <span class="nl">text-overflow</span><span class="p">:</span> <span class="n">ellipsis</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.button</span> <span class="nt">button</span> <span class="p">{</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">0.45</span><span class="p">);</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.button</span> <span class="nt">button</span><span class="nd">:hover</span><span class="o">,</span>&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.button</span> <span class="nt">button</span><span class="nd">:active</span><span class="o">,</span>&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.button</span> <span class="nt">button</span><span class="nd">:focus</span> <span class="p">{</span>&#x000A;  <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">0.25</span><span class="p">);</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.submit</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-box-flex</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-flex</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>&#x000A;  <span class="nl">-ms-flex</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>&#x000A;  <span class="nl">flex</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>&#x000A;  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">0</span> <span class="cp">!important</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nc">.submit</span> <span class="nt">input</span> <span class="p">{</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="nb">transparent</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>&#x000A;  <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span>&#x000A;  <span class="nl">padding-right</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">text</span><span class="o">]</span> <span class="p">{</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">0.2</span><span class="p">);</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">text</span><span class="o">]</span><span class="nd">:focus</span><span class="o">,</span>&#x000A;<span class="nc">.notification-ios</span> <span class="nc">.notification-actions</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">text</span><span class="o">]</span><span class="nd">:active</span> <span class="p">{</span>&#x000A;  <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;<span class="p">}</span></code></pre>
              </div>
            </div>
            <div class='source-code-language'>
              <h3>JavaScript</h3>
              <div class='source-code-js'>
                <pre><code class="highlight"><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="kd">var</span> <span class="nx">Notification</span><span class="p">,</span> <span class="nx">NotificationAction</span><span class="p">,</span> <span class="nx">NotificationActionType</span><span class="p">,</span> <span class="nx">na1f</span><span class="p">,</span> <span class="nx">na2f</span><span class="p">,</span>&#x000A;    <span class="nx">__slice</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">Notification</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">Notification</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$actions</span><span class="p">,</span> <span class="nx">$container</span><span class="p">,</span> <span class="nx">$messageHTML</span><span class="p">,</span> <span class="nx">$n</span><span class="p">,</span> <span class="nx">actions</span><span class="p">,</span> <span class="nx">defaults</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">messageHTML</span><span class="p">,</span> <span class="nx">n</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">_i</span><span class="p">;</span>&#x000A;      <span class="nx">message</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">actions</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">&lt;=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">?</span> <span class="nx">__slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">_i</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="nx">_i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[]),</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">_i</span><span class="o">++</span><span class="p">];</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span> <span class="k">instanceof</span> <span class="nx">NotificationAction</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">actions</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>&#x000A;        <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">defaults</span> <span class="o">=</span> <span class="p">{</span>&#x000A;        <span class="na">container</span><span class="p">:</span> <span class="s2">".notification-device:first"</span><span class="p">,</span>&#x000A;        <span class="na">activate</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;        <span class="na">draggable</span><span class="p">:</span> <span class="kc">true</span>&#x000A;      <span class="p">};</span>&#x000A;      <span class="nx">options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">defaults</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">message</span> <span class="k">instanceof</span> <span class="nx">jQuery</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">notification</span> <span class="o">=</span> <span class="nx">message</span><span class="p">;</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">message</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".notification-wrapper"</span><span class="p">);</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">handle</span> <span class="o">=</span> <span class="nx">message</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".notification-handle"</span><span class="p">);</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">actions</span> <span class="o">=</span> <span class="nx">message</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".notification-actions"</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="nx">messageHTML</span> <span class="o">=</span> <span class="nx">Notification</span><span class="p">.</span><span class="nx">messageTemplate</span><span class="p">;</span>&#x000A;        <span class="nx">$messageHTML</span> <span class="o">=</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">message</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/String/i</span><span class="p">))</span> <span class="p">{</span>&#x000A;          <span class="nx">messageHTML</span> <span class="o">=</span> <span class="nx">messageHTML</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"BODY"</span><span class="p">,</span> <span class="nx">message</span><span class="p">);</span>&#x000A;          <span class="nx">$messageHTML</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">messageHTML</span><span class="p">);</span>&#x000A;          <span class="nx">$messageHTML</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".notification-title"</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="nx">messageHTML</span> <span class="o">=</span> <span class="nx">messageHTML</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(BODY|TITLE)/</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="k">return</span> <span class="nx">message</span><span class="p">[</span><span class="nx">match</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()];</span>&#x000A;          <span class="p">});</span>&#x000A;          <span class="nx">$messageHTML</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">messageHTML</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">message</span><span class="p">));</span>&#x000A;        <span class="nx">$n</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">Notification</span><span class="p">.</span><span class="nx">template</span><span class="p">);</span>&#x000A;        <span class="nx">$n</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".notification-content"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$messageHTML</span><span class="p">);</span>&#x000A;        <span class="nx">$actions</span> <span class="o">=</span> <span class="nx">$n</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".notification-actions"</span><span class="p">);</span>&#x000A;        <span class="nx">actions</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="kd">function</span><span class="p">(</span><span class="nx">_this</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="nx">_this</span><span class="p">.</span><span class="nx">_attachDefaultBehaviors</span><span class="p">(</span><span class="nx">action</span><span class="p">);</span>&#x000A;            <span class="k">return</span> <span class="nx">$actions</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">action</span><span class="p">);</span>&#x000A;          <span class="p">};</span>&#x000A;        <span class="p">})(</span><span class="k">this</span><span class="p">));</span>&#x000A;        <span class="k">if</span> <span class="p">((</span><span class="nx">options</span><span class="p">.</span><span class="nx">container</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$container</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">container</span><span class="p">)).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">$container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">$n</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">notification</span> <span class="o">=</span> <span class="nx">$n</span><span class="p">;</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">$n</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".notification-wrapper"</span><span class="p">);</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">handle</span> <span class="o">=</span> <span class="nx">$n</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".notification-handle"</span><span class="p">);</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">actions</span> <span class="o">=</span> <span class="nx">$actions</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">draggable</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">makeDraggable</span><span class="p">();</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">activate</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">n</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>&#x000A;        <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">activate</span><span class="p">();</span>&#x000A;        <span class="p">},</span> <span class="mi">50</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">}</span>&#x000A;&#x000A;    <span class="nx">Notification</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">dismiss</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">notification</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"interacting dragging active"</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">Notification</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">activate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"padding-bottom"</span><span class="p">,</span> <span class="s2">""</span><span class="p">);</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">actions</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"opacity"</span><span class="p">,</span> <span class="s2">""</span><span class="p">);</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">handle</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"opacity"</span><span class="p">,</span> <span class="s2">""</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">notification</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"active"</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"transform"</span><span class="p">,</span> <span class="s2">""</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">Notification</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">makeDraggable</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$actions</span><span class="p">,</span> <span class="nx">$handle</span><span class="p">,</span> <span class="nx">$nWrapper</span><span class="p">,</span> <span class="nx">actionHeight</span><span class="p">,</span> <span class="nx">deltaSize</span><span class="p">,</span> <span class="nx">lastComplete</span><span class="p">,</span> <span class="nx">maxVerticalOverflow</span><span class="p">,</span> <span class="nx">notification</span><span class="p">,</span> <span class="nx">startDeltaY</span><span class="p">,</span> <span class="nx">startPadding</span><span class="p">,</span> <span class="nx">that</span><span class="p">;</span>&#x000A;      <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>&#x000A;      <span class="nx">notification</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">notification</span><span class="p">;</span>&#x000A;      <span class="nx">$actions</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">actions</span><span class="p">;</span>&#x000A;      <span class="nx">$handle</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">handle</span><span class="p">;</span>&#x000A;      <span class="nx">$nWrapper</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">;</span>&#x000A;      <span class="nx">actionHeight</span> <span class="o">=</span> <span class="nx">$actions</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">();</span>&#x000A;      <span class="nx">startPadding</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">$nWrapper</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"padding-bottom"</span><span class="p">));</span>&#x000A;      <span class="nx">deltaSize</span> <span class="o">=</span> <span class="nx">actionHeight</span> <span class="o">-</span> <span class="nx">startPadding</span><span class="p">;</span>&#x000A;      <span class="nx">startDeltaY</span> <span class="o">=</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>&#x000A;      <span class="nx">lastComplete</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>&#x000A;      <span class="nx">maxVerticalOverflow</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">notification</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"padding-top"</span><span class="p">));</span>&#x000A;      <span class="nx">notification</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"dragstart"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">notification</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"dragging"</span><span class="p">);</span>&#x000A;      <span class="p">});</span>&#x000A;      <span class="nx">notification</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"drag"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="kd">var</span> <span class="nx">complete</span><span class="p">,</span> <span class="nx">easeOutDelta</span><span class="p">;</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">notification</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"interacting"</span><span class="p">))</span> <span class="p">{</span>&#x000A;          <span class="k">if</span> <span class="p">(</span><span class="nx">startDeltaY</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="nx">startDeltaY</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">deltaY</span><span class="p">;</span>&#x000A;          <span class="p">}</span>&#x000A;          <span class="nx">complete</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">deltaY</span> <span class="o">-</span> <span class="nx">startDeltaY</span><span class="p">)</span> <span class="o">/</span> <span class="nx">deltaSize</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>&#x000A;          <span class="k">if</span> <span class="p">(</span><span class="nx">lastComplete</span> <span class="o">!==</span> <span class="nx">complete</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="nx">lastComplete</span> <span class="o">=</span> <span class="nx">complete</span><span class="p">;</span>&#x000A;            <span class="nx">$actions</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"opacity"</span><span class="p">,</span> <span class="nx">complete</span><span class="p">);</span>&#x000A;            <span class="nx">$handle</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"opacity"</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">complete</span><span class="p">);</span>&#x000A;            <span class="k">return</span> <span class="nx">$nWrapper</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"padding-bottom"</span><span class="p">,</span> <span class="s2">""</span> <span class="o">+</span> <span class="p">(</span><span class="nx">startPadding</span> <span class="o">+</span> <span class="nx">complete</span> <span class="o">*</span> <span class="nx">deltaSize</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"px"</span><span class="p">);</span>&#x000A;          <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">complete</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="nx">easeOutDelta</span> <span class="o">=</span> <span class="nx">that</span><span class="p">.</span><span class="nx">_dragEaseOut</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">deltaY</span> <span class="o">-</span> <span class="nx">startDeltaY</span> <span class="o">-</span> <span class="nx">deltaSize</span><span class="p">);</span>&#x000A;            <span class="k">return</span> <span class="nx">notification</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"transform"</span><span class="p">,</span> <span class="s2">"translateY("</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">easeOutDelta</span><span class="p">,</span> <span class="nx">maxVerticalOverflow</span><span class="p">))</span> <span class="o">+</span> <span class="s2">"px)"</span><span class="p">);</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="nx">easeOutDelta</span> <span class="o">=</span> <span class="nx">that</span><span class="p">.</span><span class="nx">_dragEaseOut</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">deltaY</span><span class="p">);</span>&#x000A;          <span class="k">return</span> <span class="nx">notification</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"transform"</span><span class="p">,</span> <span class="s2">"translateY("</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">maxVerticalOverflow</span><span class="p">,</span> <span class="nx">easeOutDelta</span><span class="p">))</span> <span class="o">+</span> <span class="s2">"px)"</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">});</span>&#x000A;      <span class="k">return</span> <span class="nx">notification</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"dragend"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="kd">var</span> <span class="nx">textbox</span><span class="p">;</span>&#x000A;        <span class="nx">notification</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"dragging"</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"transform"</span><span class="p">,</span> <span class="s2">""</span><span class="p">);</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">lastComplete</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">$actions</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"opacity"</span><span class="p">,</span> <span class="s2">""</span><span class="p">);</span>&#x000A;          <span class="nx">$handle</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"opacity"</span><span class="p">,</span> <span class="s2">""</span><span class="p">);</span>&#x000A;          <span class="k">return</span> <span class="nx">$nWrapper</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"padding-bottom"</span><span class="p">,</span> <span class="s2">""</span><span class="p">);</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="nx">notification</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"interacting"</span><span class="p">);</span>&#x000A;          <span class="k">if</span> <span class="p">((</span><span class="nx">textbox</span> <span class="o">=</span> <span class="nx">$actions</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">"input[type=text]"</span><span class="p">)).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="k">return</span> <span class="nx">textbox</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">Notification</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">switchActions</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$newActionContainer</span><span class="p">,</span> <span class="nx">$oldActionContainer</span><span class="p">,</span> <span class="nx">newActions</span><span class="p">;</span>&#x000A;      <span class="nx">newActions</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">?</span> <span class="nx">__slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">:</span> <span class="p">[];</span>&#x000A;      <span class="nx">$newActionContainer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"&lt;div class='notification-actions' /&gt;"</span><span class="p">);</span>&#x000A;      <span class="nx">newActions</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="kd">function</span><span class="p">(</span><span class="nx">_this</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">_this</span><span class="p">.</span><span class="nx">_attachDefaultBehaviors</span><span class="p">(</span><span class="nx">action</span><span class="p">);</span>&#x000A;          <span class="k">return</span> <span class="nx">$newActionContainer</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">action</span><span class="p">);</span>&#x000A;        <span class="p">};</span>&#x000A;      <span class="p">})(</span><span class="k">this</span><span class="p">));</span>&#x000A;      <span class="nx">$oldActionContainer</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">actions</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">actions</span> <span class="o">=</span> <span class="nx">$newActionContainer</span><span class="p">;</span>&#x000A;      <span class="nx">$newActionContainer</span><span class="p">.</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">$oldActionContainer</span><span class="p">);</span>&#x000A;      <span class="nx">$oldActionContainer</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"switching-out"</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="kd">var</span> <span class="nx">focused</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">_i</span><span class="p">,</span> <span class="nx">_ref</span><span class="p">,</span> <span class="nx">_results</span><span class="p">;</span>&#x000A;        <span class="nx">$newActionContainer</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"switching-in"</span><span class="p">);</span>&#x000A;        <span class="nx">_results</span> <span class="o">=</span> <span class="p">[];</span>&#x000A;        <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">_ref</span> <span class="o">=</span> <span class="nx">newActions</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="nx">_ref</span> <span class="p">?</span> <span class="nx">_i</span> <span class="o">&lt;=</span> <span class="nx">_ref</span> <span class="p">:</span> <span class="nx">_i</span> <span class="o">&gt;=</span> <span class="nx">_ref</span><span class="p">;</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="nx">_ref</span> <span class="p">?</span> <span class="o">++</span><span class="nx">_i</span> <span class="p">:</span> <span class="o">--</span><span class="nx">_i</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">focused</span> <span class="o">=</span> <span class="nx">newActions</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">focus</span><span class="p">();</span>&#x000A;          <span class="k">if</span> <span class="p">(</span><span class="nx">focused</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="k">break</span><span class="p">;</span>&#x000A;          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;            <span class="nx">_results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="p">);</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">}</span>&#x000A;        <span class="k">return</span> <span class="nx">_results</span><span class="p">;</span>&#x000A;      <span class="p">},</span> <span class="mi">50</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">Notification</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_dragEaseOut</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="mf">1.2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">5</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">Notification</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_attachDefaultBehaviors</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">notification</span><span class="p">,</span> <span class="nx">textAction</span><span class="p">;</span>&#x000A;      <span class="nx">textAction</span> <span class="o">=</span> <span class="nx">action</span><span class="p">.</span><span class="nx">textAction</span><span class="p">;</span>&#x000A;      <span class="nx">notification</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">"button"</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">action</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">action</span><span class="p">.</span><span class="nx">callback</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">notification</span><span class="p">);</span>&#x000A;        <span class="p">});</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">"submit"</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">action</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="kd">var</span> <span class="nx">text</span><span class="p">;</span>&#x000A;          <span class="nx">text</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>&#x000A;          <span class="nx">text</span> <span class="o">=</span> <span class="nx">textAction</span> <span class="k">instanceof</span> <span class="nx">NotificationAction</span> <span class="p">?</span> <span class="nx">textAction</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span> <span class="p">:</span> <span class="nx">textAction</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">textAction</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">"input[type=text]"</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="p">:</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>&#x000A;          <span class="nx">event</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>&#x000A;          <span class="k">return</span> <span class="nx">action</span><span class="p">.</span><span class="nx">callback</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">notification</span><span class="p">);</span>&#x000A;        <span class="p">});</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">Notification</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nx">Notification</span><span class="p">.</span><span class="nx">template</span> <span class="o">=</span> <span class="s2">"&lt;div class='notification-ios'&gt; &lt;div class='notification-wrapper'&gt; &lt;div class='notification-content'&gt;&lt;/div&gt; &lt;div class='notification-actions'&gt;&lt;/div&gt; &lt;div class='notification-handle'&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">Notification</span><span class="p">.</span><span class="nx">messageTemplate</span> <span class="o">=</span> <span class="s2">"&lt;div class='notification-icon'&gt;&lt;/div&gt; &lt;div class='notification-message'&gt; &lt;h3 class='notification-title'&gt;TITLE&lt;/h3&gt; &lt;p class='notification-body'&gt;BODY&lt;/p&gt; &lt;/div&gt;"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">NotificationAction</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">NotificationAction</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">classID</span><span class="p">,</span> <span class="nx">defaults</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="nx">html</span><span class="p">;</span>&#x000A;      <span class="nx">defaults</span> <span class="o">=</span> <span class="p">{</span>&#x000A;        <span class="na">type</span><span class="p">:</span> <span class="s2">"button"</span><span class="p">,</span>&#x000A;        <span class="na">label</span><span class="p">:</span> <span class="s2">"Button"</span><span class="p">,</span>&#x000A;        <span class="na">placeholder</span><span class="p">:</span> <span class="s2">"Message"</span><span class="p">,</span>&#x000A;        <span class="na">id</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>&#x000A;        <span class="s2">"class"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>&#x000A;        <span class="na">textAction</span><span class="p">:</span> <span class="k">void</span> <span class="mi">0</span><span class="p">,</span>&#x000A;        <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>&#x000A;      <span class="p">};</span>&#x000A;      <span class="nx">options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">defaults</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>&#x000A;      <span class="nx">classID</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">[</span><span class="s2">"class"</span><span class="p">].</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">classID</span> <span class="o">+=</span> <span class="s2">" class = '"</span> <span class="o">+</span> <span class="nx">options</span><span class="p">[</span><span class="s2">"class"</span><span class="p">]</span> <span class="o">+</span> <span class="s2">"'"</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">id</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">classID</span> <span class="o">+=</span> <span class="s2">" id = '"</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">id</span> <span class="o">+</span> <span class="s2">"'"</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">html</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="k">switch</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">case</span> <span class="s2">"button"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="s2">"&lt;button"</span> <span class="o">+</span> <span class="nx">classID</span> <span class="o">+</span> <span class="s2">"&gt;"</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">label</span> <span class="o">+</span> <span class="s2">"&lt;/button&gt;"</span><span class="p">;</span>&#x000A;          <span class="k">case</span> <span class="s2">"submit"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="s2">"&lt;input"</span> <span class="o">+</span> <span class="nx">classID</span> <span class="o">+</span> <span class="s2">" type='submit' value='"</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">label</span> <span class="o">+</span> <span class="s2">"'&gt;"</span><span class="p">;</span>&#x000A;          <span class="k">case</span> <span class="s2">"text"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="s2">"&lt;input"</span> <span class="o">+</span> <span class="nx">classID</span> <span class="o">+</span> <span class="s2">" type='text' placeholder='"</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">placeholder</span> <span class="o">+</span> <span class="s2">"'&gt;"</span><span class="p">;</span>&#x000A;          <span class="nl">default</span><span class="p">:</span>&#x000A;            <span class="k">return</span> <span class="s2">""</span><span class="p">;</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">})();</span>&#x000A;      <span class="nx">element</span> <span class="o">=</span> <span class="nx">NotificationAction</span><span class="p">.</span><span class="nx">template</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(TYPE|ELEMENT)/g</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">switch</span> <span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">case</span> <span class="s2">"TYPE"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="nx">options</span><span class="p">.</span><span class="nx">type</span><span class="p">;</span>&#x000A;          <span class="k">case</span> <span class="s2">"ELEMENT"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="nx">html</span><span class="p">;</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">});</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">action</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">);</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">input</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">.</span><span class="nx">children</span><span class="p">();</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">type</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">textAction</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">textAction</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">callback</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">callback</span><span class="p">;</span>&#x000A;    <span class="p">}</span>&#x000A;&#x000A;    <span class="nx">NotificationAction</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">focus</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="nx">NotificationActionType</span><span class="p">.</span><span class="nx">textField</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"focus"</span><span class="p">);</span>&#x000A;        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">NotificationAction</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nx">NotificationAction</span><span class="p">.</span><span class="nx">template</span> <span class="o">=</span> <span class="s2">"&lt;div class='notification-action TYPE'&gt;ELEMENT&lt;/div&gt;"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">NotificationActionType</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">NotificationActionType</span><span class="p">()</span> <span class="p">{}</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">NotificationActionType</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nx">NotificationActionType</span><span class="p">.</span><span class="nx">button</span> <span class="o">=</span> <span class="s2">"button"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">NotificationActionType</span><span class="p">.</span><span class="nx">submitButton</span> <span class="o">=</span> <span class="s2">"submit"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">NotificationActionType</span><span class="p">.</span><span class="nx">textField</span> <span class="o">=</span> <span class="s2">"text"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">Notification</span> <span class="o">=</span> <span class="nx">Notification</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">NotificationAction</span> <span class="o">=</span> <span class="nx">NotificationAction</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">NotificationActionType</span> <span class="o">=</span> <span class="nx">NotificationActionType</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">na1f</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>&#x000A;    <span class="k">return</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">"You pressed button '"</span> <span class="o">+</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">).</span><span class="nx">text</span><span class="p">())</span> <span class="o">+</span> <span class="s2">"'!"</span><span class="p">);</span>&#x000A;  <span class="p">};</span>&#x000A;&#x000A;  <span class="nx">na2f</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>&#x000A;    <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>&#x000A;  <span class="p">};</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">na1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NotificationAction</span><span class="p">(</span><span class="nx">na1f</span><span class="p">,</span> <span class="p">{</span>&#x000A;    <span class="na">type</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>&#x000A;    <span class="na">placeholder</span><span class="p">:</span> <span class="s2">"Your Message Here"</span>&#x000A;  <span class="p">});</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">na2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NotificationAction</span><span class="p">(</span><span class="nx">na2f</span><span class="p">,</span> <span class="p">{</span>&#x000A;    <span class="na">type</span><span class="p">:</span> <span class="s2">"submit"</span><span class="p">,</span>&#x000A;    <span class="na">label</span><span class="p">:</span> <span class="s2">"Send"</span><span class="p">,</span>&#x000A;    <span class="na">textAction</span><span class="p">:</span> <span class="nx">na1</span>&#x000A;  <span class="p">});</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">na3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NotificationAction</span><span class="p">(</span><span class="nx">na1f</span><span class="p">,</span> <span class="p">{</span>&#x000A;    <span class="na">type</span><span class="p">:</span> <span class="s2">"button"</span><span class="p">,</span>&#x000A;    <span class="na">label</span><span class="p">:</span> <span class="s2">"Button 1"</span>&#x000A;  <span class="p">});</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">na4</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NotificationAction</span><span class="p">(</span><span class="nx">na1f</span><span class="p">,</span> <span class="p">{</span>&#x000A;    <span class="na">type</span><span class="p">:</span> <span class="s2">"button"</span><span class="p">,</span>&#x000A;    <span class="na">label</span><span class="p">:</span> <span class="s2">"Button 2"</span>&#x000A;  <span class="p">});</span>&#x000A;&#x000A;  <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">var</span> <span class="nx">action1</span><span class="p">,</span> <span class="nx">action2</span><span class="p">,</span> <span class="nx">action3</span><span class="p">,</span> <span class="nx">theNotification</span><span class="p">;</span>&#x000A;    <span class="nx">$</span><span class="p">(</span><span class="s2">".notification-ios:first"</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>&#x000A;    <span class="nx">action1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NotificationAction</span><span class="p">({</span>&#x000A;      <span class="na">type</span><span class="p">:</span> <span class="nx">NotificationActionType</span><span class="p">.</span><span class="nx">button</span><span class="p">,</span>&#x000A;      <span class="na">label</span><span class="p">:</span> <span class="s2">"Mark as Read"</span><span class="p">,</span>&#x000A;      <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">"You marked the message as read."</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">});</span>&#x000A;    <span class="nx">action3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NotificationAction</span><span class="p">({</span>&#x000A;      <span class="na">type</span><span class="p">:</span> <span class="nx">NotificationActionType</span><span class="p">.</span><span class="nx">button</span><span class="p">,</span>&#x000A;      <span class="na">label</span><span class="p">:</span> <span class="s2">"View"</span><span class="p">,</span>&#x000A;      <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>&#x000A;    <span class="p">});</span>&#x000A;    <span class="nx">action2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NotificationAction</span><span class="p">({</span>&#x000A;      <span class="na">type</span><span class="p">:</span> <span class="nx">NotificationActionType</span><span class="p">.</span><span class="nx">button</span><span class="p">,</span>&#x000A;      <span class="na">label</span><span class="p">:</span> <span class="s2">"Reply"</span><span class="p">,</span>&#x000A;      <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="kd">var</span> <span class="nx">newAction1</span><span class="p">,</span> <span class="nx">newAction2</span><span class="p">;</span>&#x000A;        <span class="nx">newAction1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NotificationAction</span><span class="p">({</span>&#x000A;          <span class="na">type</span><span class="p">:</span> <span class="nx">NotificationActionType</span><span class="p">.</span><span class="nx">textField</span>&#x000A;        <span class="p">});</span>&#x000A;        <span class="nx">newAction2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NotificationAction</span><span class="p">({</span>&#x000A;          <span class="na">type</span><span class="p">:</span> <span class="nx">NotificationActionType</span><span class="p">.</span><span class="nx">submitButton</span><span class="p">,</span>&#x000A;          <span class="na">label</span><span class="p">:</span> <span class="s2">"Send"</span><span class="p">,</span>&#x000A;          <span class="na">textAction</span><span class="p">:</span> <span class="nx">newAction1</span><span class="p">,</span>&#x000A;          <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">notification</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>&#x000A;            <span class="k">return</span> <span class="nx">notification</span><span class="p">.</span><span class="nx">dismiss</span><span class="p">();</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">});</span>&#x000A;        <span class="k">return</span> <span class="nx">theNotification</span><span class="p">.</span><span class="nx">switchActions</span><span class="p">(</span><span class="nx">newAction1</span><span class="p">,</span> <span class="nx">newAction2</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">});</span>&#x000A;    <span class="nx">theNotification</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Notification</span><span class="p">(</span><span class="s2">"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ratione est cupiditate minima ea voluptatem accusantium quia, nobis earum ipsum voluptas."</span><span class="p">,</span> <span class="nx">action1</span><span class="p">,</span> <span class="nx">action3</span><span class="p">,</span> <span class="nx">action2</span><span class="p">);</span>&#x000A;    <span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="nx">theNotification</span><span class="p">.</span><span class="nx">activate</span><span class="p">();</span>&#x000A;    <span class="p">},</span> <span class="mi">2000</span><span class="p">);</span>&#x000A;  <span class="p">});</span>&#x000A;&#x000A;<span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;</code></pre>
              </div>
            </div>
          </div>
          <div class='api'>
          </div>
        </div>
        <script src='js/notification-ios-drag.js' type='text/javascript'></script>
      </section>
      <section class='component' id='notification-mac-component'>
        <div class='example-components'>
          <h3>
            <span>Playground</span>
            <button class='example-css-toggle'>(try it without CSS)</button>
          </h3>
          <div class='example-component'><div class='notification-device'>
            <div class='notification-mac'>
              <div class='notification-wrapper'>
                <div class='notification-content'>
                  <div class='notification-icon'></div>
                  <div class='notification-text'>
                    <h3>Alan Sauv&eacute;'s Birthday</h3>
                    <h4>Tomorrow, 12:00AM</h4>
                  </div>
                </div>
                <div class='notification-actions'>
                  <div class='notification-action'>
                    <button>Close</button>
                  </div>
                  <div class='notification-action'>
                    <button>Snooze</button>
                  </div>
                </div>
              </div>
            </div>
          </div></div>
        </div>
        <!-- Write all relevant documentation here. -->
        <div class='component-actions'>
          <button class='component-action requires' data-component-detail='requires'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Requires</div>
          </button>
          <button class='component-action source' data-component-detail='source'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Source</div>
          </button>
          <button class='api component-action' data-component-detail='api'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>API</div>
          </button>
        </div>
        <div class='source-code'>
          <div class='source-code-language'>
            <h3>HTML</h3>
            <div class='source-code-html'>
              <pre><code class="highlight"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-device'</span><span class="nt">&gt;</span>&#x000A;  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-mac'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-wrapper'</span><span class="nt">&gt;</span>&#x000A;      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-content'</span><span class="nt">&gt;</span>&#x000A;        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-icon'</span><span class="nt">&gt;&lt;/div&gt;</span>&#x000A;        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-text'</span><span class="nt">&gt;</span>&#x000A;          <span class="nt">&lt;h3&gt;</span>Alan Sauv<span class="ni">&amp;eacute;</span>'s Birthday<span class="nt">&lt;/h3&gt;</span>&#x000A;          <span class="nt">&lt;h4&gt;</span>Tomorrow, 12:00AM<span class="nt">&lt;/h4&gt;</span>&#x000A;        <span class="nt">&lt;/div&gt;</span>&#x000A;      <span class="nt">&lt;/div&gt;</span>&#x000A;      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-actions'</span><span class="nt">&gt;</span>&#x000A;        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-action'</span><span class="nt">&gt;</span>&#x000A;          <span class="nt">&lt;button&gt;</span>Close<span class="nt">&lt;/button&gt;</span>&#x000A;        <span class="nt">&lt;/div&gt;</span>&#x000A;        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'notification-action'</span><span class="nt">&gt;</span>&#x000A;          <span class="nt">&lt;button&gt;</span>Snooze<span class="nt">&lt;/button&gt;</span>&#x000A;        <span class="nt">&lt;/div&gt;</span>&#x000A;      <span class="nt">&lt;/div&gt;</span>&#x000A;    <span class="nt">&lt;/div&gt;</span>&#x000A;  <span class="nt">&lt;/div&gt;</span>&#x000A;<span class="nt">&lt;/div&gt;</span>&#x000A;</code></pre>
            </div>
          </div>
          <div class='source-code-language'>
            <h3>CSS</h3>
            <div class='source-code-css'>
              <pre><code class="highlight"><span class="nc">.notification-device</span> <span class="p">{</span>&#x000A;  <span class="nl">background-image</span><span class="p">:</span> <span class="sx">url(http://www.macitynet.it/wp-content/uploads/2014/06/Schermata-2014-06-03-alle-11.47.39.png)</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-background-size</span><span class="p">:</span> <span class="n">cover</span><span class="p">;</span>&#x000A;  <span class="nl">background-size</span><span class="p">:</span> <span class="n">cover</span><span class="p">;</span>&#x000A;  <span class="nl">background-repeat</span><span class="p">:</span> <span class="nb">no-repeat</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="p">{</span>&#x000A;  <span class="nl">font-family</span><span class="p">:</span> <span class="s1">"Helvetica Neue"</span><span class="p">;</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">0.92</span><span class="p">);</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0.5em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">90</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">margin</span><span class="p">:</span> <span class="m">1em</span> <span class="nb">auto</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">10px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.4</span><span class="p">);</span>&#x000A;  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">10px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.4</span><span class="p">);</span>&#x000A;  <span class="nl">max-width</span><span class="p">:</span> <span class="m">25em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="nc">.notification-wrapper</span> <span class="p">{</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">100</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-box</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-flex</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-ms-flexbox</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="nc">.notification-icon</span> <span class="p">{</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>&#x000A;  <span class="nl">background-image</span><span class="p">:</span> <span class="sx">url(http://icons.iconarchive.com/icons/wineass/ios7-redesign/512/Messages-icon.png)</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-background-size</span><span class="p">:</span> <span class="n">cover</span><span class="p">;</span>&#x000A;  <span class="nl">background-size</span><span class="p">:</span> <span class="n">cover</span><span class="p">;</span>&#x000A;  <span class="nl">background-repeat</span><span class="p">:</span> <span class="nb">no-repeat</span><span class="p">;</span>&#x000A;  <span class="nl">margin-right</span><span class="p">:</span> <span class="m">0.75em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-align-self</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>&#x000A;  <span class="nl">-ms-flex-item-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>&#x000A;  <span class="nl">align-self</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="nc">.notification-content</span> <span class="p">{</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">0.75em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">-ms-flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-box</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-flex</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-ms-flexbox</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="nc">.notification-text</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-box-flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">-ms-flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="nc">.notification-text</span> <span class="o">*</span> <span class="p">{</span>&#x000A;  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="nc">.notification-actions</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-box-flex</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-flex-grow</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">-ms-flex</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">flex-grow</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">border-left</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="n">rgba</span><span class="p">(</span><span class="m">179</span><span class="p">,</span> <span class="m">179</span><span class="p">,</span> <span class="m">179</span><span class="p">,</span> <span class="m">0.45</span><span class="p">);</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-box</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-flex</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-ms-flexbox</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-orient</span><span class="p">:</span> <span class="n">vertical</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-direction</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>&#x000A;  <span class="nl">-ms-flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>&#x000A;  <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="nc">.notification-actions</span> <span class="nc">.notification-action</span> <span class="p">{</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-webkit-inline-flex</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">-ms-inline-flexbox</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-flex</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-flex-grow</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">-ms-flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">flex-grow</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">100</span><span class="err">%</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="nc">.notification-actions</span> <span class="nc">.notification-action</span><span class="nd">:not</span><span class="o">(</span><span class="nd">:last-of-type</span><span class="o">)</span> <span class="p">{</span>&#x000A;  <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="n">rgba</span><span class="p">(</span><span class="m">179</span><span class="p">,</span> <span class="m">179</span><span class="p">,</span> <span class="m">179</span><span class="p">,</span> <span class="m">0.45</span><span class="p">);</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.notification-mac</span> <span class="nc">.notification-actions</span> <span class="nt">button</span> <span class="p">{</span>&#x000A;  <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">background</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.45</span><span class="p">);</span>&#x000A;  <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0.25em</span><span class="p">;</span>&#x000A;  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>&#x000A;  <span class="nl">font-size</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">100</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">0.6em</span> <span class="m">1em</span><span class="p">;</span>&#x000A;  <span class="nl">line-height</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;  <span class="nl">text-overflow</span><span class="p">:</span> <span class="n">ellipsis</span><span class="p">;</span>&#x000A;  <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span>&#x000A;  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.9em</span><span class="p">;</span>&#x000A;<span class="p">}</span></code></pre>
            </div>
          </div>
          <div class='source-code-language'>
            <h3>JavaScript</h3>
            <div class='source-code-js'>
              <pre><code class="highlight"><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;&#x000A;&#x000A;<span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;</code></pre>
            </div>
          </div>
        </div>
        <div class='api'>
        </div>
      </section>
      <section class='component' id='segmented-control-component'>
        <div class='example-components'>
          <h3>
            <span>Playground</span>
            <button class='example-css-toggle'>(try it without CSS)</button>
          </h3>
          <div class='example-component'><div class='segmented-control'>
            <div class='segmented-option'>
              <input id='segmented-option-1' name='segmented-control' type='radio'>
                <label for='segmented-option-1'>Option 1</label>
              </input>
            </div>
            <div class='segmented-option'>
              <input id='segmented-option-2' name='segmented-control' type='radio'>
                <label for='segmented-option-2'>Option 2</label>
              </input>
            </div>
            <div class='segmented-option'>
              <input id='segmented-option-3' name='segmented-control' type='radio'>
                <label for='segmented-option-3'>Option 3</label>
              </input>
            </div>
          </div></div>
        </div>
        <!-- Write all relevant documentation here. -->
        <div class='component-actions'>
          <button class='component-action requires' data-component-detail='requires'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Requires</div>
          </button>
          <button class='component-action source' data-component-detail='source'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Source</div>
          </button>
          <button class='api component-action' data-component-detail='api'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>API</div>
          </button>
        </div>
        <div class='source-code'>
          <div class='source-code-language'>
            <h3>HTML</h3>
            <div class='source-code-html'>
              <pre><code class="highlight"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'segmented-control'</span><span class="nt">&gt;</span>&#x000A;  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'segmented-option'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">'segmented-option-1'</span> <span class="na">name=</span><span class="s">'segmented-control'</span> <span class="na">type=</span><span class="s">'radio'</span><span class="nt">&gt;</span>&#x000A;      <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">'segmented-option-1'</span><span class="nt">&gt;</span>Option 1<span class="nt">&lt;/label&gt;</span>&#x000A;    <span class="nt">&lt;/input&gt;</span>&#x000A;  <span class="nt">&lt;/div&gt;</span>&#x000A;  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'segmented-option'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">'segmented-option-2'</span> <span class="na">name=</span><span class="s">'segmented-control'</span> <span class="na">type=</span><span class="s">'radio'</span><span class="nt">&gt;</span>&#x000A;      <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">'segmented-option-2'</span><span class="nt">&gt;</span>Option 2<span class="nt">&lt;/label&gt;</span>&#x000A;    <span class="nt">&lt;/input&gt;</span>&#x000A;  <span class="nt">&lt;/div&gt;</span>&#x000A;  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'segmented-option'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">'segmented-option-3'</span> <span class="na">name=</span><span class="s">'segmented-control'</span> <span class="na">type=</span><span class="s">'radio'</span><span class="nt">&gt;</span>&#x000A;      <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">'segmented-option-3'</span><span class="nt">&gt;</span>Option 3<span class="nt">&lt;/label&gt;</span>&#x000A;    <span class="nt">&lt;/input&gt;</span>&#x000A;  <span class="nt">&lt;/div&gt;</span>&#x000A;<span class="nt">&lt;/div&gt;</span>&#x000A;</code></pre>
            </div>
          </div>
          <div class='source-code-language'>
            <h3>CSS</h3>
            <div class='source-code-css'>
              <pre><code class="highlight"><span class="nc">.segmented-control</span> <span class="p">{</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0.35em</span><span class="p">;</span>&#x000A;  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.segmented-option</span> <span class="p">{</span>&#x000A;  <span class="nl">font-family</span><span class="p">:</span> <span class="s1">"Helvetica Neue"</span><span class="p">,</span> <span class="n">Helvetica</span><span class="p">,</span> <span class="n">Arial</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>&#x000A;  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#0b61ff</span><span class="p">;</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="m">#0b61ff</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">8em</span><span class="p">;</span>&#x000A;  <span class="nl">max-width</span><span class="p">:</span> <span class="m">33</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.8em</span><span class="p">;</span>&#x000A;  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.segmented-option</span><span class="nd">:not</span><span class="o">(</span><span class="nd">:first-of-type</span><span class="o">)</span> <span class="p">{</span>&#x000A;  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">-5px</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.segmented-option</span><span class="nd">:first-of-type</span> <span class="p">{</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0.35em</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0.35em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.segmented-option</span><span class="nd">:last-of-type</span> <span class="p">{</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0</span> <span class="m">0.35em</span> <span class="m">0.35em</span> <span class="m">0</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.segmented-option</span> <span class="nt">label</span> <span class="p">{</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>&#x000A;  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>&#x000A;  <span class="nl">padding</span><span class="p">:</span> <span class="m">0.5em</span> <span class="m">0.3em</span><span class="p">;</span>&#x000A;  <span class="nl">white-space</span><span class="p">:</span> <span class="nb">nowrap</span><span class="p">;</span>&#x000A;  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>&#x000A;  <span class="nl">text-overflow</span><span class="p">:</span> <span class="n">ellipsis</span><span class="p">;</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.segmented-option</span> <span class="nt">input</span> <span class="p">{</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.segmented-option</span> <span class="nt">input</span><span class="nd">:checked</span> <span class="o">+</span> <span class="nt">label</span> <span class="p">{</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#0b61ff</span><span class="p">;</span>&#x000A;  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>&#x000A;<span class="p">}</span></code></pre>
            </div>
          </div>
          <div class='source-code-language'>
            <h3>JavaScript</h3>
            <div class='source-code-js'>
              <pre><code class="highlight"><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="kd">var</span> <span class="nx">SegmentedControl</span><span class="p">,</span> <span class="nx">SegmentedControlController</span><span class="p">,</span> <span class="nx">SegmentedControlOption</span><span class="p">,</span>&#x000A;    <span class="nx">__slice</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">SegmentedControl</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">SegmentedControl</span><span class="p">(</span><span class="nx">$segmentedControl</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">segmentedControl</span> <span class="o">=</span> <span class="nx">$segmentedControl</span><span class="p">;</span>&#x000A;    <span class="p">}</span>&#x000A;&#x000A;    <span class="nx">SegmentedControl</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_setSegmentMaxWidth</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">changeCountBy</span><span class="p">,</span> <span class="nx">$newElem</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$segments</span><span class="p">,</span> <span class="nx">segmentMaxWidth</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">changeCountBy</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">changeCountBy</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">$segments</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">segmentedControl</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">".segmented-option"</span><span class="p">);</span>&#x000A;      <span class="nx">segmentMaxWidth</span> <span class="o">=</span> <span class="s2">""</span> <span class="o">+</span> <span class="p">((</span><span class="mi">100</span> <span class="o">/</span> <span class="p">(</span><span class="nx">$segments</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">changeCountBy</span><span class="p">)).</span><span class="nx">toPrecision</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="o">+</span> <span class="s2">"%"</span><span class="p">;</span>&#x000A;      <span class="nx">$segments</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"max-width"</span><span class="p">,</span> <span class="nx">segmentMaxWidth</span><span class="p">);</span>&#x000A;      <span class="p">});</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">$newElem</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">$newElem</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">"max-width"</span><span class="p">,</span> <span class="nx">segmentMaxWidth</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">SegmentedControl</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addOption</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">option</span><span class="p">,</span> <span class="nx">position</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$option</span><span class="p">,</span> <span class="nx">controlName</span><span class="p">,</span> <span class="nx">numberOfOptions</span><span class="p">,</span> <span class="nx">optionHTML</span><span class="p">;</span>&#x000A;      <span class="nx">controlName</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">segmentedControl</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-control-name"</span><span class="p">);</span>&#x000A;      <span class="nx">numberOfOptions</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">segmentedControl</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">".segmented-option"</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">position</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">position</span> <span class="o">=</span> <span class="nx">numberOfOptions</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">optionHTML</span> <span class="o">=</span> <span class="nx">SegmentedControlOption</span><span class="p">.</span><span class="nx">template</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(ID|NAME|LABEL)/g</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">switch</span> <span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">case</span> <span class="s2">"ID"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="nx">option</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>&#x000A;          <span class="k">case</span> <span class="s2">"NAME"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="nx">controlName</span><span class="p">;</span>&#x000A;          <span class="k">case</span> <span class="s2">"LABEL"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="nx">option</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">});</span>&#x000A;      <span class="nx">$option</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">optionHTML</span><span class="p">);</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">option</span><span class="p">.</span><span class="nx">selected</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">segmentedControl</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">":checked"</span><span class="p">).</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">$option</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">"input"</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"checked"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_setSegmentMaxWidth</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">$option</span><span class="p">);</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">position</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">$option</span><span class="p">.</span><span class="nx">prependTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">segmentedControl</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">position</span> <span class="o">&gt;</span> <span class="p">(</span><span class="nx">numberOfOptions</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="p">{</span>&#x000A;        <span class="nx">$option</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">segmentedControl</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="nx">$option</span><span class="p">.</span><span class="nx">insertAfter</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">segmentedControl</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">".segmented-option:nth-of-type("</span> <span class="o">+</span> <span class="p">(</span><span class="nx">position</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">")"</span><span class="p">));</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">SegmentedControl</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">removeOptions</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">findSelector</span><span class="p">,</span> <span class="nx">options</span><span class="p">;</span>&#x000A;      <span class="nx">options</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">?</span> <span class="nx">__slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">:</span> <span class="p">[];</span>&#x000A;      <span class="nx">findSelector</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>&#x000A;      <span class="nx">options</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">option</span> <span class="o">!==</span> <span class="s2">"number"</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">if</span> <span class="p">(</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span> <span class="o">===</span> <span class="s2">"[object String]"</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="k">return</span> <span class="nx">findSelector</span> <span class="o">+=</span> <span class="s2">"#"</span> <span class="o">+</span> <span class="nx">option</span> <span class="o">+</span> <span class="s2">" "</span><span class="p">;</span>&#x000A;          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;            <span class="k">return</span> <span class="nx">findSelector</span> <span class="o">+=</span> <span class="s2">"#"</span> <span class="o">+</span> <span class="nx">option</span><span class="p">.</span><span class="nx">id</span> <span class="o">+</span> <span class="s2">" "</span><span class="p">;</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">findSelector</span> <span class="o">+=</span> <span class="s2">":nth-of-type("</span> <span class="o">+</span> <span class="nx">option</span> <span class="o">+</span> <span class="s2">") "</span><span class="p">;</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">});</span>&#x000A;      <span class="nx">findSelector</span> <span class="o">=</span> <span class="nx">findSelector</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">", "</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(,\s)$/</span><span class="p">,</span> <span class="s2">""</span><span class="p">);</span>&#x000A;      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">findSelector</span><span class="p">);</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">segmentedControl</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="nx">findSelector</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_setSegmentMaxWidth</span><span class="p">();</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">SegmentedControl</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nx">SegmentedControl</span><span class="p">.</span><span class="nx">template</span> <span class="o">=</span> <span class="s2">"&lt;div class='segmented-control' data-control-name='NAME'&gt;&lt;/div&gt;"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">SegmentedControlOption</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">SegmentedControlOption</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">label</span><span class="p">,</span> <span class="nx">selected</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">selected</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">selected</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">id</span> <span class="o">===</span> <span class="s2">"object"</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">label</span> <span class="o">=</span> <span class="nx">id</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="nx">id</span><span class="p">.</span><span class="nx">selected</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">id</span><span class="p">.</span><span class="nx">selected</span> <span class="p">:</span> <span class="kc">false</span><span class="p">;</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">label</span> <span class="o">=</span> <span class="nx">label</span><span class="p">;</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="nx">selected</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">}</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">SegmentedControlOption</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nx">SegmentedControlOption</span><span class="p">.</span><span class="nx">template</span> <span class="o">=</span> <span class="s2">"&lt;div class='segmented-option'&gt; &lt;input type='radio' name='NAME' id='ID'&gt; &lt;label for='ID'&gt;LABEL&lt;/label&gt; &lt;/div&gt;"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">SegmentedControlController</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">SegmentedControlController</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">segmentedControls</span> <span class="o">=</span> <span class="p">[];</span>&#x000A;    <span class="p">}</span>&#x000A;&#x000A;    <span class="nx">SegmentedControlController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">newSegmentedControl</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$segmentedControl</span><span class="p">,</span> <span class="nx">defaults</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">segmentOptions</span><span class="p">,</span> <span class="nx">segmentedControl</span><span class="p">,</span> <span class="nx">selectedSegmentChosen</span><span class="p">,</span> <span class="nx">_i</span><span class="p">;</span>&#x000A;      <span class="nx">segmentOptions</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">&lt;=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">?</span> <span class="nx">__slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">_i</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="p">(</span><span class="nx">_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[]),</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">_i</span><span class="o">++</span><span class="p">];</span>&#x000A;      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">segmentOptions</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span> <span class="k">instanceof</span> <span class="nx">SegmentedControlOption</span> <span class="o">||</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">id</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">))</span> <span class="p">{</span>&#x000A;        <span class="nx">segmentOptions</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>&#x000A;        <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">defaults</span> <span class="o">=</span> <span class="p">{</span>&#x000A;        <span class="na">container</span><span class="p">:</span> <span class="s2">"body"</span><span class="p">,</span>&#x000A;        <span class="na">name</span><span class="p">:</span> <span class="s2">"segmented-control"</span>&#x000A;      <span class="p">};</span>&#x000A;      <span class="nx">options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">defaults</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>&#x000A;      <span class="nx">selectedSegmentChosen</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>&#x000A;      <span class="nx">$segmentedControl</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">SegmentedControl</span><span class="p">.</span><span class="nx">template</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"NAME"</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">name</span><span class="p">));</span>&#x000A;      <span class="nx">segmentOptions</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="kd">function</span><span class="p">(</span><span class="nx">_this</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="kd">var</span> <span class="nx">$segmentOption</span><span class="p">,</span> <span class="nx">segmentHTML</span><span class="p">;</span>&#x000A;          <span class="nx">segmentHTML</span> <span class="o">=</span> <span class="p">(</span><span class="nx">_this</span><span class="p">.</span><span class="nx">_createSegmentedOption</span><span class="p">(</span><span class="nx">option</span><span class="p">)).</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"NAME"</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>&#x000A;          <span class="nx">$segmentOption</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">segmentHTML</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$segmentedControl</span><span class="p">);</span>&#x000A;          <span class="k">if</span> <span class="p">(</span><span class="nx">option</span><span class="p">.</span><span class="nx">selected</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">selectedSegmentChosen</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="nx">$segmentOption</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">"input"</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"checked"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>&#x000A;            <span class="k">return</span> <span class="nx">selectedSegmentChosen</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">};</span>&#x000A;      <span class="p">})(</span><span class="k">this</span><span class="p">));</span>&#x000A;      <span class="nx">segmentedControl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SegmentedControl</span><span class="p">(</span><span class="nx">$segmentedControl</span><span class="p">);</span>&#x000A;      <span class="nx">segmentedControl</span><span class="p">.</span><span class="nx">_setSegmentMaxWidth</span><span class="p">();</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">segmentedControls</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">segmentedControl</span><span class="p">);</span>&#x000A;      <span class="nx">$segmentedControl</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">container</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="nx">segmentedControl</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">SegmentedControlController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setMainColor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">color</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">toggledRule</span><span class="p">,</span> <span class="nx">untoggledRule</span><span class="p">;</span>&#x000A;      <span class="nx">untoggledRule</span> <span class="o">=</span> <span class="s2">".segmented-option label { color: "</span> <span class="o">+</span> <span class="nx">color</span> <span class="o">+</span> <span class="s2">"; }\n .segmented-option { border-color: "</span> <span class="o">+</span> <span class="nx">color</span> <span class="o">+</span> <span class="s2">"; }"</span><span class="p">;</span>&#x000A;      <span class="nx">toggledRule</span> <span class="o">=</span> <span class="s2">".segmented-option input:checked + label { background-color: "</span> <span class="o">+</span> <span class="nx">color</span> <span class="o">+</span> <span class="s2">"; }"</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_appendCustomStyle</span><span class="p">(</span><span class="nx">toggledRule</span><span class="p">,</span> <span class="nx">untoggledRule</span><span class="p">,</span> <span class="s2">"updatedMainColor"</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">SegmentedControlController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setSecondaryColor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">color</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">toggledRule</span><span class="p">,</span> <span class="nx">untoggledRule</span><span class="p">;</span>&#x000A;      <span class="nx">untoggledRule</span> <span class="o">=</span> <span class="s2">".segmented-option label { background-color: "</span> <span class="o">+</span> <span class="nx">color</span> <span class="o">+</span> <span class="s2">"; }"</span><span class="p">;</span>&#x000A;      <span class="nx">toggledRule</span> <span class="o">=</span> <span class="s2">".segmented-option input:checked + label { color: "</span> <span class="o">+</span> <span class="nx">color</span> <span class="o">+</span> <span class="s2">"; }"</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_appendCustomStyle</span><span class="p">(</span><span class="nx">toggledRule</span><span class="p">,</span> <span class="nx">untoggledRule</span><span class="p">,</span> <span class="s2">"updatedSecondaryColor"</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">SegmentedControlController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_appendCustomStyle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">toggledRule</span><span class="p">,</span> <span class="nx">untoggledRule</span><span class="p">,</span> <span class="nx">type</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">rules</span><span class="p">,</span> <span class="nx">targetStyle</span><span class="p">;</span>&#x000A;      <span class="nx">rules</span> <span class="o">=</span> <span class="s2">"&amp;shy;&lt;style&gt;"</span> <span class="o">+</span> <span class="nx">untoggledRule</span> <span class="o">+</span> <span class="s2">"\n"</span> <span class="o">+</span> <span class="nx">toggledRule</span> <span class="o">+</span> <span class="s2">"&lt;/style&gt;"</span><span class="p">;</span>&#x000A;      <span class="nx">targetStyle</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">type</span><span class="p">];</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">targetStyle</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">targetStyle</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">rules</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="nx">type</span><span class="p">]</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span> <span class="o">+</span> <span class="nx">rules</span> <span class="o">+</span> <span class="s2">"&lt;/div&gt;"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s2">"body"</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">SegmentedControlController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_createSegmentedOption</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="nx">SegmentedControlOption</span><span class="p">.</span><span class="nx">template</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(ID|LABEL)/g</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">switch</span> <span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">case</span> <span class="s2">"ID"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="nx">option</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>&#x000A;          <span class="k">case</span> <span class="s2">"LABEL"</span><span class="err">:</span>&#x000A;            <span class="k">return</span> <span class="nx">option</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">SegmentedControlController</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">SegmentedControlController</span> <span class="o">=</span> <span class="nx">SegmentedControlController</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">SegmentedControlOption</span> <span class="o">=</span> <span class="nx">SegmentedControlOption</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">SegmentedControl</span> <span class="o">=</span> <span class="nx">SegmentedControl</span><span class="p">;</span>&#x000A;&#x000A;<span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;</code></pre>
            </div>
          </div>
        </div>
        <div class='api'>
          <div class='api-class hidden' id='segmented-control-SegmentedControlOption'>
            <h3>
              SegmentedControlOption
              <button class='section-hide'>Show</button>
            </h3>
            <p class='description'>An object representing a single option in a segmented control.</p>
            <div class='api-methods'>
              <div class='api-method hidden' id='segmented-control-SegmentedControlOption-constructor()'>
                <h5>
                  <code>constructor()    <span class='return-type'> => SegmentedControlOption</span></code>
                  <button class='section-hide'>Show</button>
                </h5>
                <p class='description'>Constructs a new <code>SegmentedControlOption</code> with the details provided as arguments.</p>
                <div class='api-method-arguments'>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>id</code>
                      </div>
                      <div class='argument-type'><code>String</code></div>
                    </div>
                    <div class='description'>The <code>id</code> attribute to use for this option. Should be unique, otherwise the control won't function correctly.</div>
                  </div>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>label</code>
                      </div>
                      <div class='argument-type'><code>String</code></div>
                    </div>
                    <div class='description'>The label to use for this segmented option.</div>
                  </div>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>selected</code>
                      </div>
                      <div class='argument-type'><code>Boolean</code></div>
                    </div>
                    <div class='description'>Whether or not this option should be selected by default. If multiple options in a single control are specified as selected, the last such control option will actually be marked as selected.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class='api-class hidden' id='segmented-control-SegmentedControl'>
            <h3>
              SegmentedControl
              <button class='section-hide'>Show</button>
            </h3>
            <p class='description'>An object representing a single segmented control UI component.</p>
            <div class='api-methods'>
              <div class='api-method hidden' id='segmented-control-SegmentedControl-constructor()'>
                <h5>
                  <code>constructor()    <span class='return-type'> => SegmentedControl</span></code>
                  <button class='section-hide'>Show</button>
                </h5>
                <p class='description'>Constructs a new <code>SegmentedControl</code> object.</p>
                <div class='api-method-arguments'>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>$segmentedControl</code>
                      </div>
                      <div class='argument-type'>jQuery</div>
                    </div>
                    <div class='description'>The segmented control container element.</div>
                  </div>
                </div>
              </div>
              <div class='api-method hidden' id='segmented-control-SegmentedControl-addOption()'>
                <h5>
                  <code>addOption()    <span class='return-type'> => SegmentedControl</span></code>
                  <button class='section-hide'>Show</button>
                </h5>
                <p class='description'>Adds a new option to a single segmented control.</p>
                <div class='api-method-arguments'>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>option</code>
                      </div>
                      <div class='argument-type'><code>Object</code> or <code>SegmentedControlOption</code></div>
                    </div>
                    <div class='description'>The option that is to be added. This argument have the following three attributes: <code>id</code>, which is the <code>id</code> attribute for the new <code>input</code> element, <code>label</code>, which is the text for the new option, and (optionally) <code>selected</code>, which is a boolean specifying whether this option should be automatically selected.</div>
                  </div>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>position</code>
                      </div>
                      <div class='argument-type'><code>Number</code></div>
                    </div>
                    <div class='description'>The position at which to insert this new object in the segmented control. Inserting at the start of the control would require an option of 1 for this argument. If an argument is invalid it will be set as the last element in the control.</div>
                  </div>
                </div>
              </div>
              <div class='api-method hidden' id='segmented-control-SegmentedControl-removeOptions()'>
                <h5>
                  <code>removeOptions()    <span class='return-type'> => SegmentedControl</span></code>
                  <button class='section-hide'>Show</button>
                </h5>
                <p class='description'>Removes one or more options from a segmented control.</p>
                <div class='api-method-arguments'>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>options</code>
                      </div>
                      <div class='argument-type'>any number of either <code>Object</code>, <code>SegmentedControlOption</code>, String, or <code>Number</code> arguments.</div>
                    </div>
                    <div class='description'>These specify which options to remove. If numbers are passed, controls at those indexes will be removed. If strings are passed, controls matching the selector designated by the string will be removed. If <code>Object</code> or <code>SegmentedControlOption</code> arguments are passed, the controls matching the <code>id</code> attribute of those objects will be removed.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class='api-class hidden' id='segmented-control-SegmentedControlController'>
            <h3>
              SegmentedControlController
              <button class='section-hide'>Show</button>
            </h3>
            <p class='description'>A control object used to manage all segmented controls on a single page.</p>
            <div class='api-methods'>
              <div class='api-method hidden' id='segmented-control-SegmentedControlController-constructor()'>
                <h5>
                  <code>constructor()    <span class='return-type'> => SegmentedControlController</span></code>
                  <button class='section-hide'>Show</button>
                </h5>
                <p class='description'>Constructs a new <code>SegmentedControlController</code> object.</p>
              </div>
              <div class='api-method hidden' id='segmented-control-SegmentedControlController-newSegmentedControl()'>
                <h5>
                  <code>newSegmentedControl()    <span class='return-type'> => SegmentedControl</span></code>
                  <button class='section-hide'>Show</button>
                </h5>
                <p class='description'>Convenience method to construct a new segmented control.</p>
                <div class='api-method-arguments'>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>segmentOptions</code>
                      </div>
                      <div class='argument-type'>Any number of <code>Object</code> or <code>SegmentedControlOption</code> objects</div>
                    </div>
                    <div class='description'>The set of options included in the segmented control. If vanilla objects are passed, they must contain at least an <code>id</code> property (for the <code>id</code> of the new option) and a <code>label</code> attribute. Optionally, they can also include a <code>selected</code> attribute to specify it as the default option for the segmented control.</div>
                  </div>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>option</code>
                      </div>
                      <div class='argument-type'><code>Object</code></div>
                    </div>
                    <div class='description'>A set of options for the newly-contruscted segmented control. Currently, the only options are <code>name</code>, the name for the set of input labels that make up the segmented control, and <code>container</code>, a string selector for the container element of the newly-created segmented control.</div>
                  </div>
                </div>
              </div>
              <div class='api-method hidden' id='segmented-control-SegmentedControlController-setMainColor()'>
                <h5>
                  <code>setMainColor()    <span class='return-type'> => SegmentedControlController</span></code>
                  <button class='section-hide'>Show</button>
                </h5>
                <p class='description'>Sets the main color (border and text color for inactive options, background color for active options) for all segmented controls.</p>
                <div class='api-method-arguments'>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>color</code>
                      </div>
                      <div class='argument-type'><code>String</code></div>
                    </div>
                    <div class='description'>The color you would like to use as the main color for segmented controls.</div>
                  </div>
                </div>
              </div>
              <div class='api-method hidden' id='segmented-control-SegmentedControlController-setSecondaryColor()'>
                <h5>
                  <code>setSecondaryColor()    <span class='return-type'> => SegmentedControlController</span></code>
                  <button class='section-hide'>Show</button>
                </h5>
                <p class='description'>Sets the secondary color (background color for inactive options, text color for active options) for all segmented controls.</p>
                <div class='api-method-arguments'>
                  <div class='api-method-argument'>
                    <div class='argument-key-details'>
                      <div class='argument-name'>
                        <code>color</code>
                      </div>
                      <div class='argument-type'><code>String</code></div>
                    </div>
                    <div class='description'>The color you would like to use as the secondary color for segmented controls.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class='component' id='toggle-switch-component'>
        <div class='download-links'>
          <a class='download-link' href='downloads/toggle-switch.zip'>
            <span>Download the <strong>Toggle Switch</strong> Component</span>
          </a>
          <div class='download-image' src='/img/download.png'></div>
          <a class='download-link' href='/download'>
            <span>Create a Custom Download</span>
          </a>
        </div>
        <div class='summary'>
          <p>Toggle Switches are simple interface elements that allow a user to select between two mutually-exclusive options, most often the selection between an "on" and "off" state.</p>
          <p>The toggle switch is constructed from a simple <code>checkbox</code>-style <code>input</code>, so it provides a perfect fallback when CSS isn't loaded. There is no requirement to use the included JavaScript component, either &mdash; the toggle is fully accessible with no strings attached. The extra JavaScript provides convenience methods to enable, disable, and toggle the switch, as well as maintainingthe ARIA state of the checkbox.</p>
        </div>
        <div class='example-components'>
          <h3>
            <span>Playground</span>
            <button class='example-css-toggle'>(try it without CSS)</button>
          </h3>
          <div class='example-component'><div class='toggle-switch' tab-index='0'>
            <input id='toggle-switch' name='toggle-switch' tabindex='-1' type='checkbox'>
            <label class='toggle-switch-main' for='toggle-switch'>
              <div class='toggle-switch-accent'></div>
              <div class='toggle-switch-thumb'></div>
            </label>
          </div></div>
        </div>
        <script type='text/javascript'>
          var ts = new ToggleSwitch(".example-component .toggle-switch:first");
          var tsc = new ToggleSwitchController({container: ".example-component"});
        </script>
        <div class='playground'>
          <div class='playground-output'>
            <pre><code><div class='initial-variables'><div>// use variable tsc to access the ToggleSwitchController</div><div>// use variable ts to access the existing ToggleSwitch</div></div></code></pre>
          </div>
          <input class='playground-input' placeholder='Try out commands here' spellcheck='false' type='text'>
          <div class='example-commands'>
            <h4>Example Commands</h4>
            <div class='example-command-buttons'>
              <button class='example-command' data-command="for (var i = 1; i &lt;= 20; i++) { tsc.add({container: '.example-component'}); }">Create 20 switches</button>
              <button class='example-command' data-command="tsc.toggle(':nth-child(3n+1)')">Toggle every third switch</button>
              <button class='example-command' data-command="function toggle() { tsc.toggle(':nth-child(' + Math.ceil(Math.random()*5) + 'n)'); } setInterval(toggle, 2000);">Toggle switches randomly every 2 seconds</button>
              <button class='example-command' data-command='ts.setDisabled(!ts.disabled())'>Toggle the first switch's disabled state</button>
            </div>
          </div>
        </div>
        <!-- = render_usage_requirements component, ["drag", :behavior, "required in order to create the dragging effect."], ["segmented-control", :component, "the element on which this component is based."] -->
        <!-- Write all relevant documentation here. -->
        <div class='component-actions'>
          <button class='component-action requires' data-component-detail='requires'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Requires</div>
          </button>
          <button class='component-action source' data-component-detail='source'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>Source</div>
          </button>
          <button class='api component-action' data-component-detail='api'>
            <div class='component-action-icon'></div>
            <div class='component-action-label'>API</div>
          </button>
        </div>
        <div class='code-information'>
          <div class='requirements'>
            <h3>Mandatory</h3>
          </div>
          <div class='source-code'>
            <div class='source-code-language'>
              <h3>HTML</h3>
              <div class='source-code-html'>
                <pre><code class="highlight"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'toggle-switch'</span> <span class="na">tab-index=</span><span class="s">'0'</span><span class="nt">&gt;</span>&#x000A;  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">'toggle-switch'</span> <span class="na">name=</span><span class="s">'toggle-switch'</span> <span class="na">tabindex=</span><span class="s">'-1'</span> <span class="na">type=</span><span class="s">'checkbox'</span><span class="nt">&gt;</span>&#x000A;  <span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">'toggle-switch-main'</span> <span class="na">for=</span><span class="s">'toggle-switch'</span><span class="nt">&gt;</span>&#x000A;    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'toggle-switch-accent'</span><span class="nt">&gt;&lt;/div&gt;</span>&#x000A;    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'toggle-switch-thumb'</span><span class="nt">&gt;&lt;/div&gt;</span>&#x000A;  <span class="nt">&lt;/label&gt;</span>&#x000A;<span class="nt">&lt;/div&gt;</span>&#x000A;</code></pre>
              </div>
            </div>
            <div class='source-code-language'>
              <h3>CSS</h3>
              <div class='source-code-css'>
                <pre><code class="highlight"><span class="nc">.toggle-switch</span> <span class="p">{</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span><span class="nd">:focus</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">3px</span> <span class="m">2px</span> <span class="m">#a1cdff</span><span class="p">;</span>&#x000A;  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">3px</span> <span class="m">2px</span> <span class="m">#a1cdff</span><span class="p">;</span>&#x000A;  <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span><span class="nd">:active</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;  <span class="nl">box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span> <span class="nt">input</span> <span class="p">{</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">z-index</span><span class="p">:</span> <span class="m">-1</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span> <span class="nt">input</span> <span class="o">+</span> <span class="nt">label</span> <span class="p">{</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">3.5em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-sizing</span><span class="p">:</span> <span class="n">content-box</span><span class="p">;</span>&#x000A;  <span class="nl">-moz-box-sizing</span><span class="p">:</span> <span class="n">content-box</span><span class="p">;</span>&#x000A;  <span class="nl">box-sizing</span><span class="p">:</span> <span class="n">content-box</span><span class="p">;</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>&#x000A;  <span class="nl">border</span><span class="p">:</span> <span class="m">2px</span> <span class="nb">solid</span> <span class="nb">transparent</span><span class="p">;</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.1</span><span class="p">);</span>&#x000A;  <span class="nl">text-indent</span><span class="p">:</span> <span class="m">-200em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">background-color</span> <span class="m">0.45s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">background-color</span> <span class="m">0.45s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span> <span class="nt">input</span><span class="nd">:checked</span> <span class="o">+</span> <span class="nt">label</span> <span class="p">{</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#4cd65d</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span> <span class="nt">input</span><span class="nd">:checked</span> <span class="o">+</span> <span class="nt">label</span> <span class="nc">.toggle-switch-thumb</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-transition-delay</span><span class="p">:</span> <span class="m">0.12s</span><span class="p">;</span>&#x000A;  <span class="nl">transition-delay</span><span class="p">:</span> <span class="m">0.12s</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">1.5em</span><span class="p">);</span>&#x000A;  <span class="nl">-ms-transform</span><span class="p">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">1.5em</span><span class="p">);</span>&#x000A;  <span class="nl">transform</span><span class="p">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">1.5em</span><span class="p">);</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span> <span class="nt">input</span><span class="nd">:checked</span> <span class="o">+</span> <span class="nt">label</span> <span class="nc">.toggle-switch-accent</span> <span class="p">{</span>&#x000A;  <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>&#x000A;  <span class="nl">-ms-transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>&#x000A;  <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span> <span class="nt">input</span><span class="nd">:disabled</span> <span class="o">+</span> <span class="nt">label</span> <span class="p">{</span>&#x000A;  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.4</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span> <span class="nc">.toggle-switch-accent</span><span class="o">,</span>&#x000A;<span class="nc">.toggle-switch</span> <span class="nc">.toggle-switch-thumb</span> <span class="p">{</span>&#x000A;  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>&#x000A;  <span class="nl">height</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>&#x000A;  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">-webkit-transform</span> <span class="m">0.45s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;  <span class="nl">transition</span><span class="p">:</span> <span class="n">transform</span> <span class="m">0.45s</span> <span class="n">ease</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span> <span class="nc">.toggle-switch-accent</span> <span class="p">{</span>&#x000A;  <span class="nl">width</span><span class="p">:</span> <span class="m">3.5em</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>&#x000A;  <span class="nl">-ms-transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>&#x000A;  <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>&#x000A;  <span class="nl">-webkit-transform-origin</span><span class="p">:</span> <span class="m">60</span><span class="err">%</span> <span class="m">50</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">-ms-transform-origin</span><span class="p">:</span> <span class="m">60</span><span class="err">%</span> <span class="m">50</span><span class="err">%</span><span class="p">;</span>&#x000A;  <span class="nl">transform-origin</span><span class="p">:</span> <span class="m">60</span><span class="err">%</span> <span class="m">50</span><span class="err">%</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nc">.toggle-switch</span> <span class="nc">.toggle-switch-thumb</span> <span class="p">{</span>&#x000A;  <span class="nl">background-color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>&#x000A;  <span class="nl">-webkit-box-shadow</span><span class="p">:</span> <span class="m">0px</span> <span class="m">1px</span> <span class="m">5px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.25</span><span class="p">);</span>&#x000A;  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0px</span> <span class="m">1px</span> <span class="m">5px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.25</span><span class="p">);</span>&#x000A;  <span class="nl">-webkit-transition-timing-function</span><span class="p">:</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">0.37</span><span class="p">,</span> <span class="m">1.65</span><span class="p">,</span> <span class="m">0.305</span><span class="p">,</span> <span class="m">0.855</span><span class="p">);</span>&#x000A;  <span class="nl">transition-timing-function</span><span class="p">:</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">0.37</span><span class="p">,</span> <span class="m">1.65</span><span class="p">,</span> <span class="m">0.305</span><span class="p">,</span> <span class="m">0.855</span><span class="p">);</span>&#x000A;<span class="p">}</span></code></pre>
              </div>
            </div>
            <div class='source-code-language'>
              <h3>JavaScript</h3>
              <div class='source-code-js'>
                <pre><code class="highlight"><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="kd">var</span> <span class="nx">ToggleSwitch</span><span class="p">,</span> <span class="nx">ToggleSwitchController</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">ToggleSwitch</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">ToggleSwitch</span><span class="p">(</span><span class="nx">details</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">$container</span><span class="p">,</span> <span class="nx">$input</span><span class="p">,</span> <span class="nx">$label</span><span class="p">,</span> <span class="nx">defaults</span><span class="p">,</span> <span class="nx">newToggle</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">toggle</span><span class="p">,</span> <span class="nx">toggleHTML</span><span class="p">,</span> <span class="nx">toggleID</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">details</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="o">||</span> <span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">details</span><span class="p">)</span> <span class="o">===</span> <span class="s2">"[object String]"</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">details</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">details</span><span class="p">);</span>&#x000A;        <span class="nx">$input</span> <span class="o">=</span> <span class="nx">details</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">"input"</span><span class="p">);</span>&#x000A;        <span class="nx">$label</span> <span class="o">=</span> <span class="nx">details</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">"label"</span><span class="p">);</span>&#x000A;        <span class="nx">details</span><span class="p">.</span><span class="nx">attr</span><span class="p">({</span>&#x000A;          <span class="s2">"role"</span><span class="p">:</span> <span class="s2">"checkbox"</span><span class="p">,</span>&#x000A;          <span class="s2">"aria-checked"</span><span class="p">:</span> <span class="nx">$input</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"checked"</span><span class="p">)</span>&#x000A;        <span class="p">});</span>&#x000A;        <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">details</span><span class="p">;</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">_input</span> <span class="o">=</span> <span class="nx">$input</span><span class="p">;</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">_label</span> <span class="o">=</span> <span class="nx">$label</span><span class="p">;</span>&#x000A;        <span class="nx">toggle</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>&#x000A;        <span class="nx">$input</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"change"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"aria-checked"</span><span class="p">,</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">checked</span><span class="p">());</span>&#x000A;        <span class="p">});</span>&#x000A;        <span class="nx">details</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"keypress"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">charCode</span> <span class="o">===</span> <span class="mi">32</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>&#x000A;            <span class="k">return</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">});</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="nx">defaults</span> <span class="o">=</span> <span class="p">{</span>&#x000A;          <span class="na">active</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;          <span class="na">on</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;          <span class="na">checked</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;          <span class="na">toggled</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;          <span class="na">toggle</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;          <span class="na">container</span><span class="p">:</span> <span class="k">void</span> <span class="mi">0</span><span class="p">,</span>&#x000A;          <span class="na">disabled</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;          <span class="na">id</span><span class="p">:</span> <span class="k">void</span> <span class="mi">0</span><span class="p">,</span>&#x000A;          <span class="na">label</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>&#x000A;          <span class="na">name</span><span class="p">:</span> <span class="s2">"toggle"</span>&#x000A;        <span class="p">};</span>&#x000A;        <span class="nx">options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">defaults</span><span class="p">,</span> <span class="nx">details</span><span class="p">);</span>&#x000A;        <span class="nx">toggleID</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">id</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">options</span><span class="p">.</span><span class="nx">id</span> <span class="p">:</span> <span class="s2">"toggle-switch-"</span> <span class="o">+</span> <span class="p">(</span><span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">_uniqueID</span><span class="p">());</span>&#x000A;        <span class="nx">toggleHTML</span> <span class="o">=</span> <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">template</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(TOGGLE_ID|LABEL|NAME)/g</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="k">switch</span> <span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="k">case</span> <span class="s2">"TOGGLE_ID"</span><span class="err">:</span>&#x000A;              <span class="k">return</span> <span class="nx">toggleID</span><span class="p">;</span>&#x000A;            <span class="k">case</span> <span class="s2">"LABEL"</span><span class="err">:</span>&#x000A;              <span class="k">return</span> <span class="nx">options</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>&#x000A;            <span class="k">case</span> <span class="s2">"NAME"</span><span class="err">:</span>&#x000A;              <span class="k">return</span> <span class="nx">options</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">});</span>&#x000A;        <span class="nx">newToggle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ToggleSwitch</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">toggleHTML</span><span class="p">));</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">disabled</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">newToggle</span><span class="p">.</span><span class="nx">disable</span><span class="p">();</span>&#x000A;        <span class="p">}</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">active</span> <span class="o">||</span> <span class="nx">options</span><span class="p">.</span><span class="nx">on</span> <span class="o">||</span> <span class="nx">options</span><span class="p">.</span><span class="nx">checked</span> <span class="o">||</span> <span class="nx">options</span><span class="p">.</span><span class="nx">toggled</span> <span class="o">||</span> <span class="nx">options</span><span class="p">.</span><span class="nx">toggle</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">newToggle</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>&#x000A;        <span class="p">}</span>&#x000A;        <span class="nx">$container</span> <span class="o">=</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">container</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;          <span class="nx">$container</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">container</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="p">?</span> <span class="nx">options</span><span class="p">.</span><span class="nx">container</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">container</span><span class="p">);</span>&#x000A;          <span class="k">if</span> <span class="p">(</span><span class="nx">$container</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;            <span class="nx">$container</span> <span class="o">=</span> <span class="s2">"body"</span><span class="p">;</span>&#x000A;          <span class="p">}</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="nx">$container</span> <span class="o">=</span> <span class="s2">"body"</span><span class="p">;</span>&#x000A;        <span class="p">}</span>&#x000A;        <span class="nx">newToggle</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$container</span><span class="p">);</span>&#x000A;        <span class="k">return</span> <span class="nx">newToggle</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">}</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">remove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">remove</span><span class="p">();</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toggle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">());</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">check</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"checked"</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">();</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setState</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">currentState</span><span class="p">;</span>&#x000A;      <span class="nx">currentState</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">();</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">disabled</span><span class="p">()</span> <span class="o">||</span> <span class="p">(</span><span class="nx">state</span> <span class="o">==</span> <span class="kc">null</span><span class="p">))</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">currentState</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">currentState</span> <span class="o">!==</span> <span class="nx">state</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"checked"</span><span class="p">,</span> <span class="nx">state</span><span class="p">);</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"change"</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setChecked</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">state</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">enabled</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">disabled</span><span class="p">();</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">enable</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">setDisabled</span><span class="p">(</span><span class="kc">false</span><span class="p">));</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">disable</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">setDisabled</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setDisabled</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">disabled</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">currentDisabled</span><span class="p">;</span>&#x000A;      <span class="nx">currentDisabled</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">disabled</span><span class="p">();</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">disabled</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">currentDisabled</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">currentDisabled</span> <span class="o">!==</span> <span class="nx">disabled</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">,</span> <span class="nx">disabled</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">return</span> <span class="nx">disabled</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addClass</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newClasses</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">newClasses</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">removeClass</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newClasses</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">newClasses</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toggleClass</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newClasses</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toggleClass</span><span class="p">(</span><span class="nx">newClasses</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasClass</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">className</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">find</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">find</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">closest</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">closest</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">children</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">children</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">parent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parent</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trigger</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">match</span> <span class="o">&amp;&amp;</span> <span class="nx">event</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/change/</span><span class="p">))</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_input</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">handler</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">match</span> <span class="o">&amp;&amp;</span> <span class="nx">event</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/change/</span><span class="p">))</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_input</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">on</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">off</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">handler</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">match</span> <span class="o">&amp;&amp;</span> <span class="nx">event</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/change/</span><span class="p">))</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_input</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">off</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">css</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">prop</span><span class="p">,</span> <span class="nx">rule</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">rule</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">prop</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/display/</span><span class="p">))</span> <span class="p">{</span>&#x000A;          <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">css</span><span class="p">(</span><span class="nx">prop</span><span class="p">,</span> <span class="nx">rule</span><span class="p">);</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="k">this</span><span class="p">.</span><span class="nx">_label</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">prop</span><span class="p">,</span> <span class="nx">rule</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">prop</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/display/</span><span class="p">))</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">css</span><span class="p">(</span><span class="nx">prop</span><span class="p">);</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_label</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">prop</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">is</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">sel</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/(\:checked|\:disabled)/</span><span class="p">))</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_input</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">is</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">html</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">html</span><span class="p">();</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_label</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">attr</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">attribute</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">attribute</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/aria/</span><span class="p">))</span> <span class="p">{</span>&#x000A;          <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">attr</span><span class="p">(</span><span class="nx">attribute</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="k">this</span><span class="p">.</span><span class="nx">_input</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">attribute</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">if</span> <span class="p">(</span><span class="nx">attribute</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/aria/</span><span class="p">))</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">attr</span><span class="p">(</span><span class="nx">attribute</span><span class="p">);</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_input</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">attribute</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"name"</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">((</span><span class="nx">value</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">key</span> <span class="o">===</span> <span class="s2">"object"</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">data</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">data</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">prop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">property</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">this</span><span class="p">.</span><span class="nx">_input</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="nx">property</span><span class="p">,</span> <span class="nx">val</span><span class="p">);</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_input</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="nx">property</span><span class="p">);</span>&#x000A;      <span class="p">}</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">ToggleSwitch</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nx">ToggleSwitch</span><span class="p">.</span><span class="nx">template</span> <span class="o">=</span> <span class="s2">"&lt;div class='toggle-switch' tabindex='0'&gt; &lt;input type='checkbox' name='NAME' id='TOGGLE_ID' tabindex='-1'&gt; &lt;label for='TOGGLE_ID'&gt; &lt;div class='toggle-switch-accent'&gt;&lt;/div&gt; &lt;div class='toggle-switch-thumb'&gt;&lt;/div&gt; &lt;/label&gt; &lt;/div&gt;"</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">ToggleSwitchController</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="kd">function</span> <span class="nx">ToggleSwitchController</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">existingToggles</span><span class="p">;</span>&#x000A;      <span class="nx">existingToggles</span> <span class="o">=</span> <span class="p">[];</span>&#x000A;      <span class="nx">$</span><span class="p">(</span><span class="s2">".toggle-switch"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">existingToggles</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">ToggleSwitch</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">)));</span>&#x000A;      <span class="p">});</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">toggleSwitches</span> <span class="o">=</span> <span class="nx">existingToggles</span><span class="p">;</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">_toggleSwitchCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;    <span class="p">}</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">newToggleSwitch</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">newToggle</span><span class="p">;</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="nx">newToggle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ToggleSwitch</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">toggleSwitches</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">newToggle</span><span class="p">);</span>&#x000A;      <span class="k">return</span> <span class="nx">newToggle</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">newToggleSwitch</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">removeToggleSwitches</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="kd">var</span> <span class="nx">livingToggles</span><span class="p">,</span> <span class="nx">tsc</span><span class="p">;</span>&#x000A;      <span class="nx">tsc</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>&#x000A;      <span class="nx">livingToggles</span> <span class="o">=</span> <span class="p">[];</span>&#x000A;      <span class="k">this</span><span class="p">.</span><span class="nx">toggleSwitches</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">toggle</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">if</span> <span class="p">((</span><span class="nx">sel</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="o">||</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">sel</span><span class="p">))</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>&#x000A;        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;          <span class="k">return</span> <span class="nx">livingToggles</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">toggle</span><span class="p">);</span>&#x000A;        <span class="p">}</span>&#x000A;      <span class="p">});</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">toggleSwitches</span> <span class="o">=</span> <span class="nx">livingToggles</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">remove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">removeToggleSwitches</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="s2">"delete"</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">removeToggleSwitches</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toggle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getSubsetOfToggleSwitches</span><span class="p">(</span><span class="nx">sel</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">toggle</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">check</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setState</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getSubsetOfToggleSwitches</span><span class="p">(</span><span class="nx">sel</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">toggle</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">state</span><span class="p">);</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setChecked</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">sel</span><span class="p">);</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setToggleColor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">color</span><span class="p">,</span> <span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getSubsetOfToggleSwitches</span><span class="p">(</span><span class="nx">sel</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">toggle</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">setToggleColor</span><span class="p">(</span><span class="nx">color</span><span class="p">);</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">enable</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getSubsetOfToggleSwitches</span><span class="p">(</span><span class="nx">sel</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">toggle</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">enable</span><span class="p">();</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">disable</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getSubsetOfToggleSwitches</span><span class="p">(</span><span class="nx">sel</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">toggle</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">disable</span><span class="p">();</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_getSubsetOfToggleSwitches</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sel</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">if</span> <span class="p">(</span><span class="nx">sel</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">toggleSwitches</span><span class="p">;</span>&#x000A;      <span class="p">}</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">toggleSwitches</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">toggle</span><span class="p">)</span> <span class="p">{</span>&#x000A;        <span class="k">return</span> <span class="nx">toggle</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">sel</span><span class="p">);</span>&#x000A;      <span class="p">});</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_uniqueID</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_toggleSwitchCount</span><span class="o">++</span><span class="p">;</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">ToggleSwitchController</span><span class="p">;</span>&#x000A;&#x000A;  <span class="p">})();</span>&#x000A;&#x000A;  <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">_toggleSwitchCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">_uniqueID</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="k">return</span> <span class="nx">ToggleSwitchController</span><span class="p">.</span><span class="nx">_toggleSwitchCount</span><span class="o">++</span><span class="p">;</span>&#x000A;  <span class="p">};</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">ToggleSwitchController</span> <span class="o">=</span> <span class="nx">ToggleSwitchController</span><span class="p">;</span>&#x000A;&#x000A;  <span class="nb">window</span><span class="p">.</span><span class="nx">ToggleSwitch</span> <span class="o">=</span> <span class="nx">ToggleSwitch</span><span class="p">;</span>&#x000A;&#x000A;<span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>&#x000A;</code></pre>
              </div>
            </div>
          </div>
          <div class='api'>
            <div class='api-class hidden' id='toggle-switch-ToggleSwitch'>
              <h3>
                ToggleSwitch
                <button class='section-hide'>Show</button>
              </h3>
              <p class='description'>An object representing a single toggle switch on the page.</p>
              <div class='api-attributes'>
                <h4>Attributes</h4>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-0'>
                  <h5>
                    <code>0    <span class='return-type'> => jQuery</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>The jQuery object underlying the toggle switch. It is best not to access and manipulate this element directly. Instead, <code>ToggleSwitch</code> objects forward many common jQuery methods to the appropriate element within the toggle switch markup. These include <code>addClass()</code>, <code>removeClass()</code>, <code>toggleClass()</code>, <code>hasClass()</code>, <code>find()</code>, <code>closest()</code>, <code>parent()</code>, <code>trigger()</code>, <code>on()</code>, <code>off()</code>, <code>css()</code>, <code>is()</code>, <code>attr()</code>, <code>name()</code>, <code>data()</code>, and <code>prop()</code>.</p>
                </div>
              </div>
              <div class='api-methods'>
                <h4>Methods</h4>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-constructor()'>
                  <h5>
                    <code>constructor()    <span class='return-type'> => ToggleSwitch</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Constructs a new <code>ToggleSwitch</code>. Additionally, the constructor will set up the required event handlers to maintain the toggle's <code>aria</code> properties and to allow for keyboard manipulation of the toggle.</p>
                  <div class='api-method-arguments'>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>details</code>
                        </div>
                        <div class='argument-type'><code>Object</code> or <code>jQuery</code></div>
                      </div>
                      <div class='description'>The details required to create a new toggle switch. If you already have a jQuery element for the toggle switch markup, then simply pass this to the constructor. If you would like to create a new toggle from scratch, pass an object with options. The key options are: <code>active</code>, which specifies whether or not the toggle should be acted in an active state, <code>disabled</code>, which specifies whether or not the the toggle should be disabled, <code>id</code>, the <code>id</code> attribute for the toggle (should be unique, otherwise the toggle won't work correctly), <code>label</code>, the (hidden, by default) label for the toggle (should be included for assistive devices), <code>name</code>, the <code>name</code> attribute for the toggle (important if this toggle is part of a form submission), and <code>container</code>, a selector describing the element to which the toggle should be appended.</div>
                    </div>
                  </div>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-toggle()'>
                  <h5>
                    <code>toggle()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Switches the state of the toggle switch. Returns the new state.</p>
                </div>
                <div class='api-method hidden alias' id='toggle-switch-ToggleSwitch-check()'>
                  <h5>
                    <code>check()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>An alias for <code>ToggleSwitch#toggle()</code>.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-state()'>
                  <h5>
                    <code>state()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Returns the current toggled state of the switch.</p>
                </div>
                <div class='api-method hidden alias' id='toggle-switch-ToggleSwitch-checked()'>
                  <h5>
                    <code>checked()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>An alias for <code>ToggleSwitch#state()</code>.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-setState()'>
                  <h5>
                    <code>setState()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Sets the toggled state of the toggle switch to the passed state.</p>
                  <div class='api-method-arguments'>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>state</code>
                        </div>
                        <div class='argument-type'><code>Boolean</code></div>
                      </div>
                      <div class='description'>Whether the toggle switch should be toggled on (<code>true</code>) or off (<code>false</code>).</div>
                    </div>
                  </div>
                </div>
                <div class='api-method hidden alias' id='toggle-switch-ToggleSwitch-setChecked()'>
                  <h5>
                    <code>setChecked()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>An alias for <code>ToggleSwitch#setState()</code>.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-enabled()'>
                  <h5>
                    <code>enabled()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Returns a boolean indicating whether or not the toggle is enabled.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-disabled()'>
                  <h5>
                    <code>disabled()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Returns a boolean indicating whether or not the toggle is disabled.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-setDisabled()'>
                  <h5>
                    <code>setDisabled()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Sets the disabled property of the toggle to the passed state.</p>
                  <div class='api-method-arguments'>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>disabled</code>
                        </div>
                        <div class='argument-type'><code>Boolean</code></div>
                      </div>
                      <div class='description'>Whether the toggle switch should be disabled (<code>true</code>) or enabled (<code>false</code>).</div>
                    </div>
                  </div>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-enable()'>
                  <h5>
                    <code>enable()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Sets the disabled property of the toggle to <code>true</code>. Returns <code>true</code> if successful.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitch-disable()'>
                  <h5>
                    <code>disable()    <span class='return-type'> => Boolean</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Sets the disabled property of the toggle to <code>false</code>. Returns <code>true</code> if successful.</p>
                </div>
              </div>
            </div>
            <div class='api-class hidden' id='toggle-switch-ToggleSwitchController'>
              <h3>
                ToggleSwitchController
                <button class='section-hide'>Show</button>
              </h3>
              <p class='description'>A controller for managing all toggle switches on a given page.</p>
              <div class='api-attributes'>
                <h4>Attributes</h4>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitchController-toggleSwitches'>
                  <h5>
                    <code>toggleSwitches    <span class='return-type'> => Array</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>An array of all <code>ToggleSwitch</code>es being managed by this controller.</p>
                </div>
              </div>
              <div class='api-methods'>
                <h4>Methods</h4>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitchController-constructor()'>
                  <h5>
                    <code>constructor()    <span class='return-type'> => ToggleSwitchController</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Constructs a new <code>ToggleSwitchController</code>.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitchController-newToggleSwitch()'>
                  <h5>
                    <code>newToggleSwitch()    <span class='return-type'> => ToggleSwitch</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Constructs a new <code>ToggleSwitch</code> with the passed options.</p>
                  <div class='api-method-arguments'>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>options</code>
                        </div>
                        <div class='argument-type'><code>Object</code></div>
                      </div>
                      <div class='description'>The options for the newly-created toggle. See the <code>ToggleSwitch</code> constructor for details on the nature of the available options.</div>
                    </div>
                  </div>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitchController-add()'>
                  <h5>
                    <code>add()    <span class='return-type'> => ToggleSwitch</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>An alias for <code>ToggleSwitchController#newToggleSwitch()</code>.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitchController-removeToggleSwitches()'>
                  <h5>
                    <code>removeToggleSwitches()    <span class='return-type'> => undefined</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Deletes the toggle switches matching the passed selector.</p>
                  <div class='api-method-arguments'>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>sel</code>
                        </div>
                        <div class='argument-type'><code>String</code></div>
                      </div>
                      <div class='description'>A CSS selector describing the toggle switch(es) to be removed.</div>
                    </div>
                  </div>
                </div>
                <div class='api-method hidden alias' id='toggle-switch-ToggleSwitchController-remove()'>
                  <h5>
                    <code>remove()    <span class='return-type'> => undefined</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>An alias for <code>ToggleSwitchController#removeToggleSwitches()</code>.</p>
                </div>
                <div class='api-method hidden alias' id='toggle-switch-ToggleSwitchController-delete()'>
                  <h5>
                    <code>delete()    <span class='return-type'> => undefined</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>An alias for <code>ToggleSwitchController#removeToggleSwitches()</code>.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitchController-toggle()'>
                  <h5>
                    <code>toggle()    <span class='return-type'> => undefined</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Toggles all toggle switches matching the passed selector.</p>
                  <div class='api-method-arguments'>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>sel</code>
                        </div>
                        <div class='argument-type'><code>String</code></div>
                      </div>
                      <div class='description'>A CSS selector describing the toggle switch(es) to be toggled.</div>
                    </div>
                  </div>
                </div>
                <div class='api-method hidden alias' id='toggle-switch-ToggleSwitchController-check()'>
                  <h5>
                    <code>check()    <span class='return-type'> => undefined</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>An alias for <code>ToggleSwitchController#toggle()</code>.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitchController-setState()'>
                  <h5>
                    <code>setState()    <span class='return-type'> => undefined</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Sets the toggled state of all toggle switches matching the passed selector to the passed state.</p>
                  <div class='api-method-arguments'>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>state</code>
                        </div>
                        <div class='argument-type'><code>Boolean</code></div>
                      </div>
                      <div class='description'>Whether the toggle switch should be toggled on (<code>true</code>) or off (<code>false</code>).</div>
                    </div>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>sel</code>
                        </div>
                        <div class='argument-type'><code>String</code></div>
                      </div>
                      <div class='description'>A CSS selector describing the toggle switch(es) to potentially be toggled.</div>
                    </div>
                  </div>
                </div>
                <div class='api-method hidden alias' id='toggle-switch-ToggleSwitchController-setChecked()'>
                  <h5>
                    <code>setChecked()    <span class='return-type'> => undefined</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>An alias for <code>ToggleSwitchController#setState()</code>.</p>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitchController-enable()'>
                  <h5>
                    <code>enable()    <span class='return-type'> => undefined</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Enables the toggle switches matching the passed selector.</p>
                  <div class='api-method-arguments'>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>sel</code>
                        </div>
                        <div class='argument-type'><code>String</code></div>
                      </div>
                      <div class='description'>A CSS selector describing the toggle switch(es) to be enabled.</div>
                    </div>
                  </div>
                </div>
                <div class='api-method hidden' id='toggle-switch-ToggleSwitchController-disable()'>
                  <h5>
                    <code>disable()    <span class='return-type'> => undefined</span></code>
                    <button class='section-hide'>Show</button>
                  </h5>
                  <p class='description'>Disables the toggle switches matching the passed selector.</p>
                  <div class='api-method-arguments'>
                    <div class='api-method-argument'>
                      <div class='argument-key-details'>
                        <div class='argument-name'>
                          <code>sel</code>
                        </div>
                        <div class='argument-type'><code>String</code></div>
                      </div>
                      <div class='description'>A CSS selector describing the toggle switch(es) to be disabled.</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </section>
  </body>
</html>
